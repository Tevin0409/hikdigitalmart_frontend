import{s as $}from"./BdR2luE9.js";import{_ as j,y as k,ay as B,r as g,S as N,R as V,c as l,a as e,F as m,m as p,t as a,N as w,V as C,b as A,I as v,u as h,az as S,x as E,o as r,d as H}from"./D23hHbpi.js";import"./D0ntFVES.js";import"./BMbwk1zD.js";const q={class:"container mx-auto p-6"},F={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-8"},Y={class:"flex flex-col items-center"},K=["src"],W={class:"grid grid-cols-5 gap-2"},G=["src","onClick"],J={class:"flex flex-col space-y-4"},O={class:"text-3xl font-bold"},Q={class:"text-lg text-gray-700 font-medium"},X={class:"flex items-center space-x-4"},Z={class:"flex items-center space-x-4"},ee={key:1,class:"mt-8"},se={class:"flex space-x-8 border-b pb-2"},te={key:0,class:"mt-6 space-y-6"},oe=["innerHTML"],le={key:1,class:"mt-6 space-y-8"},ae={class:"flex items-center space-x-4"},re=["src"],ne={class:"font-bold text-gray-800"},ie={class:"text-sm text-gray-500"},de={class:"flex space-x-1 mt-1"},ce=["fill"],ue={class:"mt-4 text-gray-800"},me={class:"flex items-center space-x-4 text-gray-500 text-sm mt-2"},pe={key:2,class:"mt-6 space-y-6"},ge={class:"flex items-start space-x-4"},ve={class:"flex-1"},xe={class:"flex items-center space-x-4"},_e=["src"],fe={class:"font-bold text-gray-800"},he={class:"text-sm text-gray-500"},ye={class:"mt-2 text-gray-700"},be={class:"flex items-center space-x-4 text-gray-500 text-sm mt-2"},ke=["onClick"],we={key:0,class:"mt-4 pl-6 border-l"},Ce={class:"flex items-center space-x-4"},Pe=["src"],Ie={class:"font-bold text-gray-800"},De={class:"text-sm text-gray-500"},Ue={class:"mt-2 text-gray-700"},Me={key:2,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50"},ze={class:"rounded-md pt-10"},Le={class:"flex overflow-x-auto gap-4 p-2"},Re=["onClick"],Te={class:"relative"},$e=["src","alt"],je={class:"text-sm font-medium mt-2 truncate"},Be={class:"text-lg font-semibold text-gray-900"},Ne={class:"text-gray-500 text-xs line-through"},Ve={__name:"[id]",setup(Ae){const{$formatPrice:P}=k(),I=o=>P(o),y=B(),_=g(1),c=g("details"),D=g([]),U=[{id:1,name:"Helen Mwoki.",date:"Yesterday",rating:5,comment:"Excellent gamepad!",likes:42,replies:0,avatar:"https://via.placeholder.com/40"},{id:1,name:"Susan Njeri M.",date:"Yesterday",rating:5,comment:"Besst Product ever !",likes:42,replies:0,avatar:"https://via.placeholder.com/40"}],d=g(null);g(!1);const x=g(!1),{$axios:b}=k();N(()=>{R()});const M=o=>{d.value.image=o},z=o=>o?o.replace(/\r\n/g,"<br>"):"",L=async()=>{let t=E().user;x.value=!0;const i=y.params.id;try{const s={productModelId:i,quantity:_.value,userId:t.id},n=await b.post("/product/cart/add",s);x.value=!1}catch(s){x.value=!1,console.error("Error adding product to cart:",s)}},R=async()=>{var t;const o=y.params.id;try{const i=await b.get(`product/model/by-id/${o}`),s=(t=i.data.images.find(u=>u.isPrimary))==null?void 0:t.optimizeUrl,n=i.data.images.map(u=>u.optimizeUrl);d.value={...i.data,image:s,images:i.data.images,description:i.data.description,colors:i.data.colors},console.log("Updated Product:",d.value)}catch(i){console.error("Error fetching product by ID:",i)}},T=V(()=>[...D.value].sort(()=>Math.random()-.5).slice(0,6)),f=o=>({"text-black border-b-2 border-black":c.value===o,"text-gray-600":c.value!==o});return(o,t)=>{const i=$;return r(),l("div",q,[t[12]||(t[12]=e("h1",{class:"text-2xl font-semibold mb-6"},"Product Details",-1)),d.value?(r(),l("div",F,[e("div",Y,[e("img",{src:d.value.image,alt:"Product Image",class:"w-full h-full object-cover mb-4 border rounded-lg"},null,8,K),e("div",W,[(r(!0),l(m,null,p(d.value.images,(s,n)=>(r(),l("img",{key:n,src:s.autoCropUrl,alt:"Thumbnail",onClick:u=>M(s.autoCropUrl),class:"w-16 h-16 object-cover border rounded-lg cursor-pointer hover:border-gray-500"},null,8,G))),128))])]),e("div",J,[e("h2",O,a(d.value.name),1),e("p",Q," Ksh "+a(I(d.value.price)),1),t[6]||(t[6]=e("p",{class:"text-gray-600 leading-relaxed"},null,-1)),e("div",X,[(r(!0),l(m,null,p(d.value.features,s=>(r(),l("p",null,a(s.description),1))),256))]),e("div",Z,[w(e("input",{type:"number",min:"1","onUpdate:modelValue":t[0]||(t[0]=s=>_.value=s),class:"w-16 border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-gray-500"},null,512),[[C,_.value]]),A(i,{onClick:L,loading:x.value,label:"Add to Cart"},null,8,["loading"])])])])):v("",!0),d.value?(r(),l("div",ee,[e("div",se,[e("h3",{class:h(["cursor-pointer text-lg font-semibold",f("details")]),onClick:t[1]||(t[1]=s=>c.value="details")}," Details ",2),e("h3",{class:h(["cursor-pointer text-lg font-semibold",f("reviews")]),onClick:t[2]||(t[2]=s=>c.value="reviews")}," Reviews ",2),e("h3",{class:h(["cursor-pointer text-lg font-semibold",f("discussion")]),onClick:t[3]||(t[3]=s=>c.value="discussion")}," Discussion ",2)]),c.value==="details"?(r(),l("div",te,[e("p",{innerHTML:z(d.value.description)},null,8,oe)])):v("",!0),c.value==="reviews"?(r(),l("div",le,[(r(),l(m,null,p(U,s=>e("div",{key:s.id,class:"border-b pb-4"},[e("div",ae,[e("img",{src:s.avatar,alt:"User Avatar",class:"w-10 h-10 rounded-full"},null,8,re),e("div",null,[e("h4",ne,a(s.name),1),e("p",ie,a(s.date),1),e("div",de,[(r(),l(m,null,p(5,n=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:n<=s.rating?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-4 h-4 text-yellow-400"},t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},null,-1)]),8,ce)),64))])])]),e("p",ue,a(s.comment),1),e("div",me,[t[8]||(t[8]=e("span",{class:"cursor-pointer hover:text-gray-700"},"Reply",-1)),e("span",null,"Likes: "+a(s.likes),1),e("span",null,"Replies: "+a(s.replies),1)])])),64))])):v("",!0),c.value==="discussion"?(r(),l("div",pe,[t[9]||(t[9]=e("h2",{class:"text-2xl font-bold text-gray-800"},"Discussion",-1)),e("div",ge,[e("div",ve,[w(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>o.newComment=s),placeholder:"Write your comment...",rows:"3",class:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[C,o.newComment]]),e("button",{onClick:t[5]||(t[5]=(...s)=>o.addComment&&o.addComment(...s)),class:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Post Comment ")])]),(r(!0),l(m,null,p(o.discussionComments,s=>(r(),l("div",{key:s.id,class:"border-b pb-4"},[e("div",xe,[e("img",{src:s.avatar,alt:"User Avatar",class:"w-10 h-10 rounded-full"},null,8,_e),e("div",null,[e("h4",fe,a(s.name),1),e("p",he,a(s.date),1)])]),e("p",ye,a(s.content),1),e("div",be,[e("span",{onClick:n=>o.replyToComment(s.id),class:"cursor-pointer hover:text-gray-700"},"Reply",8,ke),e("span",null,"Likes: "+a(s.likes),1),e("span",null,"Replies: "+a(s.replies),1)]),s.replies&&s.replies.length?(r(),l("div",we,[(r(!0),l(m,null,p(s.replies,n=>(r(),l("div",{key:n.id,class:"mt-2"},[e("div",Ce,[e("img",{src:n.avatar,alt:"Reply Avatar",class:"w-8 h-8 rounded-full"},null,8,Pe),e("div",null,[e("h4",Ie,a(n.name),1),e("p",De,a(n.date),1)])]),e("p",Ue,a(n.content),1)]))),128))])):v("",!0)]))),128))])):v("",!0)])):(r(),l("div",Me,t[10]||(t[10]=[e("div",{class:"relative flex justify-center items-center"},[e("div",{class:"absolute animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-purple-100"}),e("img",{src:"https://freelancerdxb.s3.eu-central-1.amazonaws.com/documents/image%20%285%29__5d197f13926ac20a20a6f301d00ce69b516f83eb.png",class:"rounded-full h-24 w-24"})],-1)]))),e("section",null,[e("div",ze,[t[11]||(t[11]=e("div",{class:"flex justify-between items-center mb-4"},[e("h2",{class:"text-xl font-semibold"},"Related Products")],-1)),e("div",Le,[(r(!0),l(m,null,p(S(T),(s,n)=>{var u;return r(),l("div",{key:n,class:"min-w-[200px] md:min-w-[220px] bg-white rounded-md shadow-md cursor-pointer p-2",onClick:Se=>o.goToProductPage(s)},[e("div",Te,[e("img",{src:(u=s.images[0])==null?void 0:u.optimizeUrl,alt:s.name,class:"w-full h-36 object-cover rounded-md"},null,8,$e)]),H(" "+a(s.product.name)+" ",1),e("h3",je,a(s.name),1),e("p",Be,a(o.formatPrice(s.price)),1),e("p",Ne,a(s.oldPrice),1)],8,Re)}),128))])])])])}}},Ye=j(Ve,[["__scopeId","data-v-8f0eecc8"]]);export{Ye as default};
