import{s as U}from"./CKhnuuUE.js";import{s as A}from"./BsLrv4kJ.js";import{B as D,v as m,o as i,c as a,C as w,u as b,D as M,E as p,t as d,q as I,a as r,F as k,m as O,s as _,b as S,_ as V,H as y,J as E,G as N,w as P,N as v,S as x,d as F}from"./Fo99IELK.js";import"./CTeCqoQn.js";var z=function(t){var s=t.dt;return`
.p-breadcrumb {
    background: `.concat(s("breadcrumb.background"),`;
    padding: `).concat(s("breadcrumb.padding"),`;
    overflow-x: auto;
}

.p-breadcrumb-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    gap: `).concat(s("breadcrumb.gap"),`;
}

.p-breadcrumb-separator {
    display: flex;
    align-items: center;
    color: `).concat(s("breadcrumb.separator.color"),`;
}

.p-breadcrumb-separator-icon:dir(rtl) {
    transform: rotate(180deg);
}

.p-breadcrumb::-webkit-scrollbar {
    display: none;
}

.p-breadcrumb-item-link {
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: `).concat(s("breadcrumb.item.gap"),`;
    transition: background `).concat(s("breadcrumb.transition.duration"),", color ").concat(s("breadcrumb.transition.duration"),", outline-color ").concat(s("breadcrumb.transition.duration"),", box-shadow ").concat(s("breadcrumb.transition.duration"),`;
    border-radius: `).concat(s("breadcrumb.item.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("breadcrumb.item.color"),`;
}

.p-breadcrumb-item-link:focus-visible {
    box-shadow: `).concat(s("breadcrumb.item.focus.ring.shadow"),`;
    outline: `).concat(s("breadcrumb.item.focus.ring.width")," ").concat(s("breadcrumb.item.focus.ring.style")," ").concat(s("breadcrumb.item.focus.ring.color"),`;
    outline-offset: `).concat(s("breadcrumb.item.focus.ring.offset"),`;
}

.p-breadcrumb-item-link:hover .p-breadcrumb-item-label {
    color: `).concat(s("breadcrumb.item.hover.color"),`;
}

.p-breadcrumb-item-label {
    transition: inherit;
}

.p-breadcrumb-item-icon {
    color: `).concat(s("breadcrumb.item.icon.color"),`;
    transition: inherit;
}

.p-breadcrumb-item-link:hover .p-breadcrumb-item-icon {
    color: `).concat(s("breadcrumb.item.icon.hover.color"),`;
}
`)},T={root:"p-breadcrumb p-component",list:"p-breadcrumb-list",homeItem:"p-breadcrumb-home-item",separator:"p-breadcrumb-separator",separatorIcon:"p-breadcrumb-separator-icon",item:function(t){var s=t.instance;return["p-breadcrumb-item",{"p-disabled":s.disabled()}]},itemLink:"p-breadcrumb-item-link",itemIcon:"p-breadcrumb-item-icon",itemLabel:"p-breadcrumb-item-label"},j=D.extend({name:"breadcrumb",theme:z,classes:T}),R={name:"BaseBreadcrumb",extends:A,props:{model:{type:Array,default:null},home:{type:null,default:null}},style:j,provide:function(){return{$pcBreadcrumb:this,$parentInstance:this}}},B={name:"BreadcrumbItem",hostName:"Breadcrumb",extends:A,props:{item:null,templates:null,index:null},methods:{onClick:function(t){this.item.command&&this.item.command({originalEvent:t,item:this.item})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},isCurrentUrl:function(){var t=this.item,s=t.to,c=t.url,o=typeof window<"u"?window.location.pathname:"";return s===o||c===o?"page":void 0}},computed:{ptmOptions:function(){return{context:{item:this.item,index:this.index}}},getMenuItemProps:function(){var t=this;return{action:m({class:this.cx("itemLink"),"aria-current":this.isCurrentUrl(),onClick:function(c){return t.onClick(c)}},this.ptm("itemLink",this.ptmOptions)),icon:m({class:[this.cx("icon"),this.item.icon]},this.ptm("icon",this.ptmOptions)),label:m({class:this.cx("label")},this.ptm("label",this.ptmOptions))}}}},W=["href","target","aria-current"];function G(e,t,s,c,o,l){return l.visible()?(i(),a("li",m({key:0,class:[e.cx("item"),s.item.class]},e.ptm("item",l.ptmOptions)),[s.templates.item?(i(),w(M(s.templates.item),{key:1,item:s.item,label:l.label(),props:l.getMenuItemProps},null,8,["item","label","props"])):(i(),a("a",m({key:0,href:s.item.url||"#",class:e.cx("itemLink"),target:s.item.target,"aria-current":l.isCurrentUrl(),onClick:t[0]||(t[0]=function(){return l.onClick&&l.onClick.apply(l,arguments)})},e.ptm("itemLink",l.ptmOptions)),[s.templates&&s.templates.itemicon?(i(),w(M(s.templates.itemicon),{key:0,item:s.item,class:b(e.cx("itemIcon",l.ptmOptions))},null,8,["item","class"])):s.item.icon?(i(),a("span",m({key:1,class:[e.cx("itemIcon"),s.item.icon]},e.ptm("itemIcon",l.ptmOptions)),null,16)):p("",!0),s.item.label?(i(),a("span",m({key:2,class:e.cx("itemLabel")},e.ptm("itemLabel",l.ptmOptions)),d(l.label()),17)):p("",!0)],16,W))],16)):p("",!0)}B.render=G;var L={name:"Breadcrumb",extends:R,inheritAttrs:!1,components:{BreadcrumbItem:B,ChevronRightIcon:U}};function q(e,t,s,c,o,l){var f=I("BreadcrumbItem"),C=I("ChevronRightIcon");return i(),a("nav",m({class:e.cx("root")},e.ptmi("root")),[r("ol",m({class:e.cx("list")},e.ptm("list")),[e.home?(i(),w(f,m({key:0,item:e.home,class:e.cx("homeItem"),templates:e.$slots,pt:e.pt,unstyled:e.unstyled},e.ptm("homeItem")),null,16,["item","class","templates","pt","unstyled"])):p("",!0),(i(!0),a(k,null,O(e.model,function(n,u){return i(),a(k,{key:n.label+"_"+u},[e.home||u!==0?(i(),a("li",m({key:0,class:e.cx("separator"),ref_for:!0},e.ptm("separator")),[_(e.$slots,"separator",{},function(){return[S(C,m({"aria-hidden":"true",class:e.cx("separatorIcon"),ref_for:!0},e.ptm("separatorIcon")),null,16,["class"])]})],16)):p("",!0),S(f,{item:n,index:u,templates:e.$slots,pt:e.pt,unstyled:e.unstyled},null,8,["item","index","templates","pt","unstyled"])],64)}),128))],16)],16)}L.render=q;const H={data(){return{selectedFilter:"All",filters:["All","Pending","Delivered","Cancelled"],removeItem:!1,loadingAdd:!1,home:{icon:"pi pi-home"},items:[{label:"Home",route:"/"},{label:"My Account",route:"/profile"}],activeSection:"profile",user:{firstName:"",lastName:"",email:"",address:"",phoneNumber:"",createdAt:""},orders:[],wishlist:[]}},computed:{filteredOrders(){return this.selectedFilter==="All"?this.orders:this.orders.filter(e=>e.status===this.selectedFilter)}},async mounted(){await this.getUserData(),await this.getWishList(),await this.getOrders()},methods:{getProductImage(e){var t,s,c;return console.log("Order Item:",e),((s=(t=e==null?void 0:e.productModel)==null?void 0:t.images)==null?void 0:s.length)>0?(console.log("Image found:",(c=e.productModel.images[0])==null?void 0:c.optimizeUrl),e.productModel.images[0].optimizeUrl):(console.log("Using fallback image"),"https://media.istockphoto.com/id/1410977641/photo/high-technology-security-monitoring-system-cctv-camera.jpg?s=612x612&w=0&k=20&c=ueVgTwwn5Xq-S0Tz6Wfj9sILEubWxURkzkvVrzpSYRI=")},formattedPrice(e){const{$formatPrice:t}=y();return t(e)},formatDate(e){return new Date(e).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},async getOrders(){const t=await E().getOrders();this.orders=t},async removeWish(e){const{$axios:t}=y();this.removeItem=!0;try{const s=await t.post(`/product/wishlist/remove/${productID}`);this.removeItem=!1}catch{this.removeItem=!1}},async addToCart(e){const{$axios:t}=y();this.loadingAdd=!0,setTimeout(()=>{this.loadingAdd=!1},2e3);try{const s={productId:e.id,quantity:1},c=await t.post("/product/cart/add",s);this.loadingAdd=!1}catch{this.loadingAdd=!1}},async getWishList(){const{$axios:e}=y();try{const t=await e.get("/product/wishlist");this.wishlist=t.data}catch(t){console.error(t)}},async getUserData(){const e=N();this.user=e.user},logout(){N().logout()}}},Y={class:"container mx-auto my-10 px-4"},J={class:"breadcrumb text-sm mb-4 card"},K={class:"card flex"},X=["href","onClick"],Q={class:"text-primary font-semibold"},Z=["href","target"],$={class:"text-surface-700 dark:text-surface-0"},ee={class:"flex flex-col md:flex-row"},te={class:"space-y-2 text-gray-600 pt-2 p-4"},re={class:"md:w-3/4 w-full bg-white border p-4"},se={key:0},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={key:1},ie={class:"mt-4 flex flex-col md:flex-row items-center md:items-start"},le={class:"ml-4"},ae={class:"text-gray-600"},me={key:2},de={class:"p-4 bg-gray-100"},ce={class:"flex space-x-4 mb-4 overflow-x-auto"},ue=["onClick"],pe={class:"flex justify-between items-center"},be={class:"text-sm text-gray-500"},fe={class:"mt-2 flex flex-col md:flex-row items-center md:items-start"},he=["src"],ge={class:"ml-0 md:ml-4 text-center md:text-left"},ye={class:"text-red-600 font-semibold"},ve={class:"text-gray-700"},xe={key:0,class:"text-blue-600"},we={class:"text-gray-800 font-semibold mt-1"};function ke(e,t,s,c,o,l){const f=I("router-link"),C=L;return i(),a("div",Y,[r("div",J,[r("div",K,[S(C,{home:o.home,model:o.items},{item:P(({item:n,props:u})=>[n.route?(i(),w(f,{key:0,to:n.route,custom:""},{default:P(({href:h,navigate:g})=>[r("a",m({href:h},u.action,{onClick:g}),[r("span",{class:b([n.icon,"text-color"])},null,2),r("span",Q,d(n.label),1)],16,X)]),_:2},1032,["to"])):(i(),a("a",m({key:1,href:n.url,target:n.target},u.action),[r("span",$,d(n.label),1)],16,Z))]),_:1},8,["home","model"])])]),r("button",{class:"md:hidden bg-red-500 text-white px-4 py-2 rounded mb-4",onClick:t[0]||(t[0]=(...n)=>e.toggleSidebar&&e.toggleSidebar(...n))},d(e.sidebarOpen?"Close Menu":"Menu"),1),r("div",ee,[r("aside",{class:b(["md:w-1/4 w-full bg-white shadow-md md:shadow-none md:block fixed md:relative top-0 left-0 h-full md:h-auto transform transition-transform duration-300 ease-in-out",e.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0"])},[r("ul",te,[t[9]||(t[9]=r("li",{class:"font-bold text-red-500"},"Manage My Account",-1)),r("li",{onClick:t[1]||(t[1]=n=>e.setActiveSection("profile")),class:"cursor-pointer"}," Profile "),r("li",{onClick:t[2]||(t[2]=n=>e.setActiveSection("paymentOptions")),class:"cursor-pointer"}," Payment Options "),r("li",{onClick:t[3]||(t[3]=n=>e.setActiveSection("orders")),class:"font-bold text-red-500 mt-4 cursor-pointer"}," My Orders ")]),r("button",{onClick:t[4]||(t[4]=(...n)=>l.logout&&l.logout(...n)),class:"bg-red-500 text-white px-4 py-2 rounded w-full mt-4 md:mt-12"}," Logout ")],2),r("main",re,[o.activeSection==="profile"?(i(),a("div",se,[t[15]||(t[15]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"Edit Your Profile",-1)),r("form",null,[r("div",ne,[r("div",null,[t[10]||(t[10]=r("label",null,"First Name",-1)),v(r("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=n=>o.user.firstName=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.firstName]])]),r("div",null,[t[11]||(t[11]=r("label",null,"Last Name",-1)),v(r("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=n=>o.user.lastName=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.lastName]])]),r("div",null,[t[12]||(t[12]=r("label",null,"Email",-1)),v(r("input",{type:"email","onUpdate:modelValue":t[7]||(t[7]=n=>o.user.email=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.email]])]),r("div",null,[t[13]||(t[13]=r("label",null,"Phone Number",-1)),v(r("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=n=>o.user.phoneNumber=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.phoneNumber]])])]),t[14]||(t[14]=r("div",{class:"flex justify-between mt-6"},[r("button",{class:"border px-4 py-2 w-1/2 md:w-auto"},"Cancel"),r("button",{class:"bg-red-500 text-white px-4 py-2 w-1/2 md:w-auto"}," Save Changes ")],-1))])])):p("",!0),o.activeSection==="paymentOptions"?(i(),a("div",oe,[t[18]||(t[18]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"Payment Method",-1)),r("div",ie,[t[17]||(t[17]=r("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/512px-M-PESA_LOGO-01.svg.png?20191120100524",class:"w-1/2 md:w-1/4",alt:"Mpesa Logo"},null,-1)),r("div",le,[t[16]||(t[16]=r("h3",{class:"font-bold mb-2"},"Mpesa",-1)),r("p",ae,"Mobile Number: "+d(o.user.phoneNumber),1)])])])):p("",!0),o.activeSection==="orders"?(i(),a("div",me,[t[19]||(t[19]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"My Orders",-1)),r("div",de,[r("div",ce,[(i(!0),a(k,null,O(o.filters,n=>(i(),a("button",{key:n,onClick:u=>o.selectedFilter=n,class:b(["px-4 py-2 rounded-full border whitespace-nowrap",o.selectedFilter===n?"bg-red-100 text-red-600":"bg-white text-gray-600"])},d(n),11,ue))),128))]),(i(!0),a(k,null,O(l.filteredOrders,(n,u)=>{var h,g;return i(),a("div",{key:u,class:"bg-white shadow-md rounded-lg mb-4 p-4"},[r("div",pe,[r("span",{class:b(["px-3 py-1 text-xs rounded-full",{"bg-yellow-200 text-yellow-800":n.status==="Pending","bg-green-100 text-green-600":n.status==="Delivered","bg-gray-300 text-gray-700":n.status==="Cancelled"}])},d(n.status),3),r("span",be,d(l.formatDate(n.createdAt)),1)]),r("div",fe,[r("img",{src:(g=(h=n.orderItems[0])==null?void 0:h.productModel.images[0])==null?void 0:g.optimizeUrl,alt:"Product Image",class:"w-16 h-16 rounded-md object-cover"},null,8,he),r("div",ge,[r("p",ye," Order ID: "+d(n.id.slice(0,8)),1),r("p",ve,[F(d(n.orderItems[0].productModel.name)+" ",1),n.orderItems.length>1?(i(),a("span",xe," & "+d(n.orderItems.length-1)+" more items",1)):p("",!0)]),r("p",we," KES "+d(l.formattedPrice(n.total)),1)])])])}),128))])])):p("",!0)])])])}const Me=V(H,[["render",ke]]);export{Me as default};
