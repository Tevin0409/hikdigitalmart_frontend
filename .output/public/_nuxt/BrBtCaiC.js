import{_ as F}from"./Bx2oNIg8.js";import{s as L}from"./CJ9FmLzY.js";import{y as N,R as E,J as Q,r as _,S as P,U as z,q as G,c as r,a as t,b as f,w as h,t as o,F as S,m as B,N as J,V as Y,I as M,o as a,G as H,v as j,u as O,d as W}from"./B1bz72Xf.js";import"./1YeO85hr.js";import"./y_fYQhsb.js";const X=""+new URL("empty-cart.Dg7uAmTc.png",import.meta.url).href,Z={class:"cart"},tt={class:"mx-auto container"},et=["href","onClick"],st={class:"text-primary font-semibold"},ot=["href","target"],at={class:"text-surface-700 dark:text-surface-0"},rt={key:0,class:"flex flex-col items-center bg-white rounded-lg p-6 mb-6 container mx-auto"},lt={key:1,class:"mx-auto container"},nt={class:"bg-red-10 rounded-lg p-4"},it={class:"flex justify-between items-center mb-4"},ct={class:"text-lg font-semibold text-gray-700"},dt={class:"bg-white mx-auto"},ut={class:"bg-white grid grid-cols-12 gap-4"},pt={class:"col-span-12 md:col-span-9"},mt={class:"flex flex-wrap items-start gap-4"},xt=["src"],_t={class:"flex-grow min-w-0"},ht={class:"text-base sm:text-lg font-medium truncate"},bt={class:"text-gray-600 text-sm sm:text-base truncate"},gt={class:"font-bold"},ft={class:"text-right"},yt={class:"text-lg sm:text-xl font-semibold text-gray-900"},vt={class:"flex flex-wrap items-center justify-between mt-4"},kt=["onClick"],wt={class:"flex items-center"},Ct=["onClick","disabled"],Vt={class:"px-3 sm:px-4 text-sm sm:text-base"},Tt=["onClick"],Nt={class:"col-span-12 md:col-span-3"},Pt={class:"cart-total rounded-lg p4 bg-white shadow"},St={class:"text-gray-600"},Bt={class:"flex items-center justify-between my-4"},Mt={class:"relative inline-flex items-center cursor-pointer"},jt={key:0,class:"my-2"},qt={key:1,class:"flex justify-between text-gray-600"},At={class:"text-lg font-bold"},Ft={__name:"index",setup(It){const{$formatPrice:q}=N(),A=E(),p=Q();N(),_("");const i=P(()=>p.cartTotal),b=P(()=>p.cartItems),c=_(!1),I=_({icon:"pi pi-home",route:"/dashboard"}),U=_([{label:"Cart",route:"/cart"},{label:"Checkout",route:"/checkout"}]),d=l=>q(l),y=async(l,e)=>{await p.updateQuantity(l,e)},K=async l=>{await p.removeFromCart(l.id)},g=l=>l*.16,R=()=>{A.push("/checkout")};return z(()=>{}),(l,e)=>{const $=G("router-link"),D=L,v=F;return a(),r("div",Z,[t("div",tt,[f(D,{home:I.value,model:U.value,class:""},{item:h(({item:s,props:u})=>[s.route?(a(),H($,{key:0,to:s.route,custom:""},{default:h(({href:m,navigate:x})=>[t("a",j({href:m},u.action,{onClick:x}),[t("span",{class:O([s.icon,"text-color"])},null,2),t("span",st,o(s.label),1)],16,et)]),_:2},1032,["to"])):(a(),r("a",j({key:1,href:s.url,target:s.target},u.action),[t("span",at,o(s.label),1)],16,ot))]),_:1},8,["home","model"])]),b.value.length<1?(a(),r("div",rt,[e[2]||(e[2]=t("img",{src:X,alt:"Empty Cart",class:"w-20 h-20 mb-4"},null,-1)),e[3]||(e[3]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Your cart is empty!",-1)),e[4]||(e[4]=t("p",{class:"text-gray-500 text-sm mb-4"}," Browse our categories and discover our best deals! ",-1)),f(v,{to:"/dashboard"},{default:h(()=>e[1]||(e[1]=[t("button",{class:"bg-primary hover:bg-orange-600 text-white font-semibold px-4 py-2 rounded"}," Start Shopping ",-1)])),_:1})])):(a(),r("div",lt,[t("div",nt,[t("div",it,[t("h3",ct," Cart ("+o(b.value.length)+") ",1),f(v,{to:"/cart"},{default:h(()=>e[5]||(e[5]=[t("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},null,-1)])),_:1})]),t("div",dt,[t("div",ut,[t("div",pt,[(a(!0),r(S,null,B(b.value,s=>{var u,m,x,k,w,C,V,T;return a(),r("div",{class:"rounded-lg p-4 gap-3 pb-4 mb-2 border cursor-pointer bg-white shadow-sm",key:s.id},[t("div",mt,[t("img",{class:"w-16 h-16 sm:w-20 sm:h-20 object-contain",src:((x=(m=(u=s.productModel)==null?void 0:u.images)==null?void 0:m.find(n=>n.isPrimary))==null?void 0:x.uploadUrl)??((w=(k=s.images)==null?void 0:k.find(n=>n.isPrimary))==null?void 0:w.uploadUrl),alt:"Product Image"},null,8,xt),t("div",_t,[t("h2",ht,o(((C=s.productModel)==null?void 0:C.name)??s.name),1),t("p",bt,[(a(!0),r(S,null,B(s.features||((V=s.productModel)==null?void 0:V.features),n=>(a(),r("span",gt,o(n.description),1))),256))])]),t("div",ft,[t("p",yt," Ksh "+o(d(((T=s.productModel)==null?void 0:T.price)??s.price)),1)])]),t("div",vt,[t("button",{onClick:n=>K(s),class:"text-red-500 flex items-center text-sm sm:text-base"},e[6]||(e[6]=[t("span",{class:"mr-2"},"🗑️",-1),W(" Remove ")]),8,kt),t("div",wt,[t("button",{onClick:n=>y(s.id,s.quantity-1),class:"bg-gray-300 px-2 sm:px-3 py-1 rounded-lg disabled:opacity-50",disabled:s.quantity<=1}," - ",8,Ct),t("span",Vt,o(s.quantity),1),t("button",{onClick:n=>y(s.id,s.quantity+1),class:"bg-primary text-white px-2 sm:px-3 py-1 rounded-lg"}," + ",8,Tt)])])])}),128))]),t("div",Nt,[t("div",Pt,[e[11]||(e[11]=t("h3",{class:"text-lg font-semibold mb-2"},"Cart Total",-1)),t("p",St," Subtotal: Ksh "+o(d(i.value)),1),t("div",Bt,[e[9]||(e[9]=t("label",{class:"text-gray-600"},"Apply VAT (16%)",-1)),t("label",Mt,[J(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=s=>c.value=s),class:"sr-only peer"},null,512),[[Y,c.value]]),e[7]||(e[7]=t("div",{class:"w-11 h-6 bg-gray-200 rounded-full peer peer-checked:bg-primary transition-colors"},null,-1)),e[8]||(e[8]=t("div",{class:"absolute left-1 top-1 bg-white border border-gray-300 w-4 h-4 rounded-full transition-transform peer-checked:translate-x-5"},null,-1))])]),c.value?(a(),r("hr",jt)):M("",!0),c.value?(a(),r("div",qt,[e[10]||(e[10]=t("span",null,"VAT",-1)),t("span",null,"Ksh "+o(d(g(i.value))),1)])):M("",!0),e[12]||(e[12]=t("hr",{class:"my-2"},null,-1)),t("p",At," Total: Ksh "+o(d(i.value+(c.value?g(i.value):0))),1),t("button",{class:"w-full bg-primary text-white py-2 mt-4 rounded-lg hover:bg-secondary transition",onClick:R}," Checkout ("+o(d(i.value+(c.value?g(i.value):0)))+") ",1)])])])])])]))])}}};export{Ft as default};
