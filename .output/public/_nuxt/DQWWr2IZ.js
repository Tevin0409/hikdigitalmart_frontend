import{s as F}from"./BjBy4FSL.js";import{s as Y}from"./cBOMuV9J.js";import{s as G}from"./DCmFk6N9.js";import{_ as J,y as D,V as K,J as O,a1 as Q,r as u,S as X,U as Z,q as ss,c as l,b,w as M,a as s,F as p,m as g,t as r,N as $,W as U,d as j,I as x,u as y,a2 as es,x as ts,o as a,G as os,v as B}from"./B_B6csQg.js";import"./BQVOLgXZ.js";import"./CbLU7av0.js";import"./DN1lR6eg.js";import"./cxK-3MtG.js";const as={class:"container mx-auto p-6"},ls=["href","onClick"],rs={class:"text-primary font-semibold"},ns=["href","target"],is={class:"text-surface-700 dark:text-surface-0"},ds={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-8"},cs={class:"flexflex-col md:flex-row items-center"},us={class:"w-full h-96 mb-4 md:mb-0 md:mr-4 border rounded-lg overflow-hidden"},ms=["src"],ps={class:"flex mt-8 md:flex-row gap-2 justify-center md:overflow-visible"},gs=["src","onClick"],vs={class:"flex flex-col space-y-4"},fs={class:"text-3xl font-bold"},_s={class:"text-lg text-gray-700 font-medium"},xs={class:"flex items-center space-x-4"},hs={class:"flex items-center space-x-4"},bs={class:"mt-4 space-y-2"},ys=["innerHTML"],ks={key:1,class:"mt-8"},ws={class:"flex space-x-8 border-b pb-2"},Cs={key:0,class:"mt-6 space-y-6"},Ps=["innerHTML"],Ts={key:1,class:"mt-6 space-y-8"},Is={class:"flex items-center space-x-4"},Ls=["src"],Ds={class:"font-bold text-gray-800"},Ms={class:"text-sm text-gray-500"},$s={class:"flex space-x-1 mt-1"},Us=["fill"],js={class:"mt-4 text-gray-800"},Bs={class:"flex items-center space-x-4 text-gray-500 text-sm mt-2"},Ss={key:2,class:"mt-6 space-y-6"},Rs={class:"flex items-start space-x-4"},As={class:"flex-1"},Ns={class:"flex items-center space-x-4"},Vs=["src"],Hs={class:"font-bold text-gray-800"},zs={class:"text-sm text-gray-500"},Es={class:"mt-2 text-gray-700"},Ws={class:"flex items-center space-x-4 text-gray-500 text-sm mt-2"},qs=["onClick"],Fs={key:0,class:"mt-4 pl-6 border-l"},Ys={class:"flex items-center space-x-4"},Gs=["src"],Js={class:"font-bold text-gray-800"},Ks={class:"text-sm text-gray-500"},Os={class:"mt-2 text-gray-700"},Qs={key:2,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-50 z-50"},Xs={class:"rounded-md pt-10"},Zs={class:"flex overflow-x-auto gap-4 p-2"},se=["onClick"],ee={class:"relative"},te=["src","alt"],oe={class:"text-sm font-medium mt-2 truncate"},ae={class:"text-gray-500 text-xs line-through"},le={__name:"[id]",setup(re){const{$formatPrice:S}=D(),R=o=>S(o),C=K(),A=O(),P=Q(),k=u(1),c=u("details");u([]);const N=X(()=>A.products),V=[{id:1,name:"Helen Mwoki.",date:"Yesterday",rating:5,comment:"Excellent gamepad!",likes:42,replies:0,avatar:"https://via.placeholder.com/40"},{id:1,name:"Susan Njeri M.",date:"Yesterday",rating:5,comment:"Besst Product ever !",likes:42,replies:0,avatar:"https://via.placeholder.com/40"}],i=u(null);u(!1);const h=u(!1),{$axios:T}=D();Z(()=>{E()});const H=o=>{i.value.image=o},I=o=>o?o.replace(/\r\n/g,"<br>"):"",z=async()=>{let t=ts().user;h.value=!0;const d=P.params.id;try{const m={productModelId:d,quantity:k.value,userId:t.id},v=await T.post("/product/cart/add",m);h.value=!1,C.add({severity:"success",summary:"Product Added to cart",group:"br",life:3e3})}catch(m){C.add({severity:"danger",summary:"error adding to cart, Please try again",group:"br",life:3e3}),h.value=!1,console.error("Error adding product to cart:",m)}},E=async()=>{var t;const o=P.params.id;try{const d=await T.get(`product/model/by-id/${o}`),m=(t=d.data.images.find(f=>f.isPrimary))==null?void 0:t.uploadUrl,v=d.data.images.map(f=>f.uploadUrl);console.log("fd",v),i.value={...d.data,image:m,images:v,description:d.data.description,colors:d.data.colors},console.log("Updated Product:",i.value)}catch(d){console.error("Error fetching product by ID:",d)}},W=u({icon:"pi pi-home",route:"/dashboard"}),q=u([{label:"Products",route:"/dashboard"}]),w=o=>({"text-black border-b-2 border-black":c.value===o,"text-gray-600":c.value!==o});return(o,t)=>{const d=ss("router-link"),m=G,v=Y,f=F;return a(),l("div",as,[b(m,{home:W.value,model:q.value},{item:M(({item:e,props:n})=>[e.route?(a(),os(d,{key:0,to:e.route,custom:""},{default:M(({href:_,navigate:L})=>[s("a",B({href:_},n.action,{onClick:L}),[s("span",{class:y([e.icon,"text-color"])},null,2),s("span",rs,r(e.label),1)],16,ls)]),_:2},1032,["to"])):(a(),l("a",B({key:1,href:e.url,target:e.target},n.action),[s("span",is,r(e.label),1)],16,ns))]),_:1},8,["home","model"]),i.value?(a(),l("div",ds,[s("div",cs,[s("div",us,[s("img",{src:i.value.image,alt:"Product Image",class:"w-full h-full object-contain"},null,8,ms)]),s("div",ps,[(a(!0),l(p,null,g(i.value.images.slice(-4),(e,n)=>(a(),l("img",{key:n,src:e,alt:"Thumbnail",onClick:_=>H(e),class:"w-20 h-20 md:w-32 md:h-32 object-cover border rounded-lg cursor-pointer hover:border-gray-500"},null,8,gs))),128))])]),s("div",vs,[s("h2",fs,r(i.value.name),1),s("p",_s," Ksh "+r(R(i.value.price)),1),t[8]||(t[8]=s("p",{class:"text-gray-600 leading-relaxed"},null,-1)),s("div",xs,[(a(!0),l(p,null,g(i.value.features,e=>(a(),l("p",null,r(e.description),1))),256))]),s("div",hs,[$(s("input",{type:"number",min:"1","onUpdate:modelValue":t[0]||(t[0]=e=>k.value=e),class:"w-16 border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-gray-500"},null,512),[[U,k.value]]),b(v,{onClick:z,loading:h.value,label:"Add to Cart"},null,8,["loading"]),b(v,{onClick:o.addToWishlist,loading:o.loadingWish,icon:"pi pi-heart",severity:"success","aria-label":"Search",rounded:"",class:"favicon"},null,8,["onClick","loading"])]),s("div",bs,[t[6]||(t[6]=s("p",{class:"text-black-600"},[s("i",{class:"fas fa-truck"}),j(" Description")],-1)),s("p",{class:"text-gray-600",innerHTML:I(i.value.description)},null,8,ys),t[7]||(t[7]=s("p",{class:"text-gray-600"},[s("i",{class:"fas fa-undo"})],-1))])])])):x("",!0),i.value?(a(),l("div",ks,[s("div",ws,[s("h3",{class:y(["cursor-pointer text-lg font-semibold",w("details")]),onClick:t[1]||(t[1]=e=>c.value="details")}," Details ",2),s("h3",{class:y(["cursor-pointer text-lg font-semibold",w("reviews")]),onClick:t[2]||(t[2]=e=>c.value="reviews")}," Reviews ",2),s("h3",{class:y(["cursor-pointer text-lg font-semibold",w("discussion")]),onClick:t[3]||(t[3]=e=>c.value="discussion")}," Discussion ",2)]),c.value==="details"?(a(),l("div",Cs,[s("p",{innerHTML:I(i.value.description)},null,8,Ps)])):x("",!0),c.value==="reviews"?(a(),l("div",Ts,[(a(),l(p,null,g(V,e=>s("div",{key:e.id,class:"border-b pb-4"},[s("div",Is,[s("img",{src:e.avatar,alt:"User Avatar",class:"w-10 h-10 rounded-full"},null,8,Ls),s("div",null,[s("h4",Ds,r(e.name),1),s("p",Ms,r(e.date),1),s("div",$s,[(a(),l(p,null,g(5,n=>s("svg",{xmlns:"http://www.w3.org/2000/svg",fill:n<=e.rating?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-4 h-4 text-yellow-400"},t[9]||(t[9]=[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},null,-1)]),8,Us)),64))])])]),s("p",js,r(e.comment),1),s("div",Bs,[t[10]||(t[10]=s("span",{class:"cursor-pointer hover:text-gray-700"},"Reply",-1)),s("span",null,"Likes: "+r(e.likes),1),s("span",null,"Replies: "+r(e.replies),1)])])),64))])):x("",!0),c.value==="discussion"?(a(),l("div",Ss,[t[11]||(t[11]=s("h2",{class:"text-2xl font-bold text-gray-800"},"Discussion",-1)),s("div",Rs,[s("div",As,[$(s("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newComment=e),placeholder:"Write your comment...",rows:"3",class:"w-full p-3 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"},null,512),[[U,o.newComment]]),s("button",{onClick:t[5]||(t[5]=(...e)=>o.addComment&&o.addComment(...e)),class:"mt-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"}," Post Comment ")])]),(a(!0),l(p,null,g(o.discussionComments,e=>(a(),l("div",{key:e.id,class:"border-b pb-4"},[s("div",Ns,[s("img",{src:e.avatar,alt:"User Avatar",class:"w-10 h-10 rounded-full"},null,8,Vs),s("div",null,[s("h4",Hs,r(e.name),1),s("p",zs,r(e.date),1)])]),s("p",Es,r(e.content),1),s("div",Ws,[s("span",{onClick:n=>o.replyToComment(e.id),class:"cursor-pointer hover:text-gray-700"},"Reply",8,qs),s("span",null,"Likes: "+r(e.likes),1),s("span",null,"Replies: "+r(e.replies),1)]),e.replies&&e.replies.length?(a(),l("div",Fs,[(a(!0),l(p,null,g(e.replies,n=>(a(),l("div",{key:n.id,class:"mt-2"},[s("div",Ys,[s("img",{src:n.avatar,alt:"Reply Avatar",class:"w-8 h-8 rounded-full"},null,8,Gs),s("div",null,[s("h4",Js,r(n.name),1),s("p",Ks,r(n.date),1)])]),s("p",Os,r(n.content),1)]))),128))])):x("",!0)]))),128))])):x("",!0)])):(a(),l("div",Qs,t[12]||(t[12]=[s("div",{class:"relative flex justify-center items-center"},[s("div",{class:"absolute animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-purple-100"}),s("img",{src:"https://freelancerdxb.s3.eu-central-1.amazonaws.com/documents/image%20%285%29__5d197f13926ac20a20a6f301d00ce69b516f83eb.png",class:"rounded-full h-24 w-24"})],-1)]))),s("section",null,[s("div",Xs,[t[14]||(t[14]=s("div",{class:"flex justify-between items-center mb-4"},[s("h2",{class:"text-xl font-semibold"},"Related Products")],-1)),s("div",Zs,[(a(!0),l(p,null,g(es(N),(e,n)=>{var _;return a(),l("div",{key:n,class:"min-w-[200px] md:min-w-[220px] bg-white rounded-md shadow-md cursor-pointer p-2",onClick:L=>o.goToProductPage(e)},[s("div",ee,[s("img",{src:(_=e.images[0])==null?void 0:_.uploadUrl,alt:e.name,class:"w-full h-36 object-cover rounded-md"},null,8,te)]),j(" "+r(e.product.name)+" ",1),s("h3",oe,r(e.name),1),t[13]||(t[13]=s("p",{class:"text-lg font-semibold text-gray-900"},null,-1)),s("p",ae,r(e.oldPrice),1)],8,se)}),128))])])]),b(f,{position:"bottom-right",group:"br"})])}}},ve=J(le,[["__scopeId","data-v-9abcfe3f"]]);export{ve as default};
