import{_ as L}from"./CdRfHgmB.js";import{s as U}from"./TPjKn80v.js";import{_ as F,J as W,G as j,U as z,Q as _,R as N,c as a,a as s,b as y,w as P,t as p,F as M,m as k,H as E,o as n,E as T,d as C}from"./BC-qHNoR.js";import"./KJfX6t_y.js";import"./B3KwGOFB.js";import"./vPf-vbwy.js";import"./R_k530rY.js";import"./D0SSmRPr.js";import"./CYbA7IFA.js";const V=""+new URL("wish-list.DInbe6H6.png",import.meta.url).href,A={setup(){const c=W(),o=j(),v=z(),l=_(()=>c.wishListItems),I=_(()=>c.cartItems),S=_(()=>c.cartCount),x=_(()=>c.cartTotal),w=_(()=>c.products);return _(()=>o.isLoggedIn),N(()=>{c.getWishList()}),{wishList:l,cartItems:I,cartCount:S,cartTotal:x,formattedPrice:e=>{const{$formatPrice:r}=E();return r(e)},removeFromWishlist:async e=>{await c.removeFromWishlist(e.id)},addToCart:async e=>{var d;const r=((d=e.productModel)==null?void 0:d.id)??e.id;console.log(r,"productId"),console.log(e,"tes");try{const i=await c.addToCart(e,1),u=await c.addToWishlist(r);v.add({severity:"success",summary:"Product moved to Cart",group:"br",life:3e3})}catch(i){v.add({severity:"error",summary:"Failed to Add Product",detail:i.message,group:"br",life:5e3})}},products:w}}},B={class:"p-6 container mx-auto"},K={key:0,class:"flex flex-col items-center justify-center bg-white shadow-lg rounded-lg p-6 mb-6"},R={key:1,class:"p-6 container mx-auto"},D={class:"text-2xl font-bold mb-4"},H={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-4 gap-6 mb-6"},G={class:"relative"},J=["src","alt"],Q={key:0,class:"absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded"},Y=["onClick"],q={class:"p-4"},O={class:"text-md font-semibold truncate"},X={class:"text-sm font-light"},Z={class:"text-gray-500 mb-2"},$={class:"text-red-500 font-bold"},tt={key:0,class:"line-through text-sm ml-2 text-gray-400"},st=["onClick"],ot={class:"bg-white shadow-lg rounded-lg p-4"},et={class:"flex justify-between items-center mb-4"},rt={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},lt=["src","alt"],dt={class:"text-sm font-medium"},it={class:"text-primary font-semibold text-lg"},at={class:"bg-white shadow-lg rounded-lg p-4 mt-4"},nt={class:"flex justify-between items-center mb-4"},ct={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},mt=["src","alt"],pt={class:"text-sm font-medium"},gt={class:"text-primary font-semibold text-lg"};function ut(c,o,v,l,I,S){const x=L,w=U;return n(),a("div",B,[l.wishList.length<1?(n(),a("div",K,[o[1]||(o[1]=s("img",{src:V,alt:"Empty Cart",class:"w-20 h-20 mb-4"},null,-1)),o[2]||(o[2]=s("h2",{class:"text-xl font-semibold text-gray-700"}," Your wishlist is empty! ",-1)),o[3]||(o[3]=s("p",{class:"text-gray-500 text-sm mb-4"}," Browse our categories and discover our best deals! ",-1)),y(x,{to:"/"},{default:P(()=>o[0]||(o[0]=[s("button",{class:"bg-primary hover:bg-orange-600 text-white font-semibold px-4 py-2 rounded"}," Start Shopping ",-1)])),_:1})])):(n(),a("div",R,[s("h2",D,"Wishlist ("+p(l.wishList.length)+")",1),s("div",H,[(n(!0),a(M,null,k(l.wishList,(t,f)=>{var g,e,r,d,i,u,h,m;return n(),a("div",{key:f,class:"bg-white border rounded-lg shadow-sm overflow-hidden"},[s("div",G,[s("img",{src:((e=(g=t.productModel)==null?void 0:g.images.find(b=>b.isPrimary))==null?void 0:e.optimizeUrl)??((d=(r=t.images)==null?void 0:r.find(b=>b.isPrimary))==null?void 0:d.optimizeUrl),alt:((i=t.productModel)==null?void 0:i.name)||"Product Image",class:"w-full h-40 object-cover"},null,8,J),t.discount?(n(),a("span",Q," -"+p(t.discount)+"% ",1)):T("",!0),s("button",{class:"absolute top-2 right-2 bg-gray-100 text-gray-500 rounded-full p-1 hover:text-red-500",onClick:b=>l.removeFromWishlist(t)},o[4]||(o[4]=[s("i",{class:"pi pi-trash"},null,-1)]),8,Y)]),s("div",q,[s("h3",O,[C(p(((u=t.productModel)==null?void 0:u.name)??(t==null?void 0:t.product.name))+" ",1),o[5]||(o[5]=s("br",null,null,-1)),s("span",X,p(((h=t.productModel)==null?void 0:h.name)??(t==null?void 0:t.name)),1)]),s("p",Z,[s("span",$," Ksh "+p(l.formattedPrice(((m=t.productModel)==null?void 0:m.price)??t.price)),1),t!=null&&t.originalPrice?(n(),a("span",tt," Ksh"+p(t==null?void 0:t.originalPrice),1)):T("",!0)]),s("button",{class:"w-full bg-black text-white py-2 rounded hover:bg-gray-800",onClick:b=>l.addToCart(t)}," Move To Cart ",8,st)])])}),128))]),o[6]||(o[6]=s("div",null,null,-1))])),s("div",ot,[s("div",et,[o[8]||(o[8]=s("h3",{class:"text-lg font-semibold text-gray-700"},"Recently Viewed",-1)),y(x,{to:"/cart"},{default:P(()=>o[7]||(o[7]=[s("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},[C(" See All "),s("i",{class:"ml-1 pi pi-angle-right"})],-1)])),_:1})]),s("div",rt,[(n(!0),a(M,null,k(l.cartItems,(t,f)=>{var g,e,r,d,i,u,h;return n(),a("div",{key:f,class:"border rounded-lg p-3"},[s("img",{src:((e=(g=t.productModel)==null?void 0:g.images.find(m=>m.isPrimary))==null?void 0:e.optimizeUrl)??((d=(r=t.images)==null?void 0:r.find(m=>m.isPrimary))==null?void 0:d.optimizeUrl),alt:((i=t.productModel)==null?void 0:i.name)||"Product Image",class:"w-full h-40 object-cover"},null,8,lt),s("p",dt,p(((u=t.productModel)==null?void 0:u.name)??t.name),1),s("p",it," KES "+p(l.formattedPrice(((h=t.productModel)==null?void 0:h.price)??t.price)),1)])}),128))])]),s("div",at,[s("div",nt,[o[10]||(o[10]=s("h3",{class:"text-lg font-semibold text-gray-700"},"Top Selling Items",-1)),y(x,{to:"/cart"},{default:P(()=>o[9]||(o[9]=[s("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},[C(" See All "),s("i",{class:"ml-1 pi pi-angle-right"})],-1)])),_:1})]),s("div",ct,[(n(!0),a(M,null,k(l.cartItems,(t,f)=>{var g,e,r,d,i,u,h;return n(),a("div",{key:f,class:"border rounded-lg p-3"},[s("img",{src:((e=(g=t.productModel)==null?void 0:g.images.find(m=>m.isPrimary))==null?void 0:e.optimizeUrl)??((d=(r=t.images)==null?void 0:r.find(m=>m.isPrimary))==null?void 0:d.optimizeUrl),alt:((i=t.productModel)==null?void 0:i.name)||"Product Image",class:"w-full h-40 object-cover"},null,8,mt),s("p",pt,p(((u=t.productModel)==null?void 0:u.name)??t.name),1),s("p",gt," KES "+p(l.formattedPrice(((h=t.productModel)==null?void 0:h.price)??t.price)),1)])}),128))])]),y(w,{position:"bottom-right",group:"br"})])}const Mt=F(A,[["render",ut]]);export{Mt as default};
