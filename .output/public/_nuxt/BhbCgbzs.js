import{_ as Z}from"./S9AoSqcL.js";import{s as ee}from"./cBOMuV9J.js";import{F as te,_ as se,a as oe,T as re,b as ne,c as ae,d as ce}from"./BJNcoy-I.js";import{s as le}from"./CbLU7av0.js";import{B as ie,o as c,c as l,G as E,v as D,H as de,I as F,s as ue,a as e,t as u,_ as B,r as p,R as L,V as me,y as R,J as M,S as z,b as I,w as pe,F as b,m as w,u as U,x as V,f as ge,U as fe,q as A,d as he}from"./B_B6csQg.js";import{s as K}from"./D3pAsdeL.js";import"./Cdcg9F6A.js";import"./DN1lR6eg.js";import"./BjBy4FSL.js";import"./BQVOLgXZ.js";import"./43ER6-hq.js";import"./B0TUKiD6.js";import"./Dc3mCgD5.js";import"./BisfTYV-.js";import"./cxK-3MtG.js";var ve=function(r){var o=r.dt;return`
.p-tag {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: `.concat(o("tag.primary.background"),`;
    color: `).concat(o("tag.primary.color"),`;
    font-size: `).concat(o("tag.font.size"),`;
    font-weight: `).concat(o("tag.font.weight"),`;
    padding: `).concat(o("tag.padding"),`;
    border-radius: `).concat(o("tag.border.radius"),`;
    gap: `).concat(o("tag.gap"),`;
}

.p-tag-icon {
    font-size: `).concat(o("tag.icon.size"),`;
    width: `).concat(o("tag.icon.size"),`;
    height:`).concat(o("tag.icon.size"),`;
}

.p-tag-rounded {
    border-radius: `).concat(o("tag.rounded.border.radius"),`;
}

.p-tag-success {
    background: `).concat(o("tag.success.background"),`;
    color: `).concat(o("tag.success.color"),`;
}

.p-tag-info {
    background: `).concat(o("tag.info.background"),`;
    color: `).concat(o("tag.info.color"),`;
}

.p-tag-warn {
    background: `).concat(o("tag.warn.background"),`;
    color: `).concat(o("tag.warn.color"),`;
}

.p-tag-danger {
    background: `).concat(o("tag.danger.background"),`;
    color: `).concat(o("tag.danger.color"),`;
}

.p-tag-secondary {
    background: `).concat(o("tag.secondary.background"),`;
    color: `).concat(o("tag.secondary.color"),`;
}

.p-tag-contrast {
    background: `).concat(o("tag.contrast.background"),`;
    color: `).concat(o("tag.contrast.color"),`;
}
`)},_e={root:function(r){var o=r.props;return["p-tag p-component",{"p-tag-info":o.severity==="info","p-tag-success":o.severity==="success","p-tag-warn":o.severity==="warn","p-tag-danger":o.severity==="danger","p-tag-secondary":o.severity==="secondary","p-tag-contrast":o.severity==="contrast","p-tag-rounded":o.rounded}]},icon:"p-tag-icon",label:"p-tag-label"},xe=ie.extend({name:"tag",theme:ve,classes:_e}),ye={name:"BaseTag",extends:le,props:{value:null,severity:null,rounded:Boolean,icon:String},style:xe,provide:function(){return{$pcTag:this,$parentInstance:this}}},W={name:"Tag",extends:ye,inheritAttrs:!1};function be(a,r,o,s,k,v){return c(),l("span",D({class:a.cx("root")},a.ptmi("root")),[a.$slots.icon?(c(),E(de(a.$slots.icon),D({key:0,class:a.cx("icon")},a.ptm("icon")),null,16,["class"])):a.icon?(c(),l("span",D({key:1,class:[a.cx("icon"),a.icon]},a.ptm("icon")),null,16)):F("",!0),a.value!=null||a.$slots.default?ue(a.$slots,"default",{key:2},function(){return[e("span",D({class:a.cx("label")},a.ptm("label")),u(a.value),17)]}):F("",!0)],16)}W.render=be;const we={components:{Carousel:K},setup(){const a=p(["Recent","Best Seller","Top","New Arrivals","Top Rating"]),r=L(),o=p(null),s=p("Recent"),k=p([{image:"https://html.themexriver.com/radios/assets/img/product/img_53.png",name:"Bullet Camera",rating:3,reviews:26,oldPrice:28.52,price:3052},{image:"https://html.themexriver.com/radios/assets/img/product/img_53.png",name:"Bullet HD Camera",rating:4,reviews:42,oldPrice:19.53,price:2153}]),v=me(),{$formatPrice:S}=R(),y=M(),t=i=>`Ksh ${S(i)}`,n=i=>{switch(i){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return null}},f=(i,_)=>{i.image=_},T=i=>{r.push({path:`/products/${i.id}`})},g=async i=>{const _=M(),x=V();try{if(x.isLoggedIn){const m=await _.addToWishlist(i.id);await _.getWishList(),v.add({severity:"success",summary:m.data.message,group:"br",life:3e3})}else{const m=JSON.parse(localStorage.getItem("wishlist"))||[],C=m.findIndex($=>$.id===i.id);C===-1?(m.push(i),localStorage.setItem("wishlist",JSON.stringify(m)),await _.getWishList(),v.add({severity:"success",summary:"Your Wishlist has been saved locally.",group:"br",life:3e3})):(m.splice(C,1),localStorage.setItem("wishlist",JSON.stringify(m)),await _.getWishList(),v.add({severity:"info",summary:"The item has been removed from your local wishlist.",group:"br",life:3e3}))}}catch(m){console.error("Error processing wishlist:",m),v.add({severity:"error",summary:"An error occurred while managing your wishlist.",detail:m.message,group:"br",life:5e3})}},O=async i=>{V().user;try{const m=await M().addToCart(i,1);v.add({severity:"success",summary:"Product Added to Cart",group:"br",life:3e3}),console.log(m)}catch(x){v.add({severity:"error",summary:"Failed to Add Product",detail:x.message,group:"br",life:5e3})}},P=z(()=>{const i=y.products,_=20;if(i.length===0)return[];const x=[];for(;x.length<_;)x.push(...i);return i.map(C=>{var N;return{image:(N=C.images[0])==null?void 0:N.uploadUrl,images:C.images,...C}})});return{products:k,featuredProducts:P,carousel:o,tabs:a,formattedPrice:t,selectedTab:s,getSeverity:n,selectImage:f,addToFavorites:g,addToCart:O,goToPage:T}}},Ce={class:"flex flex-col md:flex-row w-full p-6"},ke={class:"w-full md:w-1/5 p-2 m-2 border dark:border-orange-600 rounded-lg shadow-sm"},Se={class:"mb-4"},Te={class:"relative mx-auto"},Pe=["src","alt"],Ie={class:"mb-4 font-medium flex justify-around"},Oe={class:"flex justify-around items-center"},$e={class:"mt-0 font-semibold text-xl py-4"},Ne={class:"stock flex items-center text-sm text-gray-600 mb-6 justify-around"},je={class:"flex items-center justify-center p-1 bg-orange-500 text-white rounded-full text-base md:text-lg font-bold"},De={class:"text-xs mt-1 text-gray-400 font-bold"},Ae={class:"p-6 w-full md:w-4/5"},Re={class:"flex flex-col md:flex-row items-center justify-between"},Fe={class:"flex flex-wrap md:flex-nowrap space-x-2 md:space-x-4 border-b"},Me=["onClick"],Ue={class:"gap-6 mt-4"},Ee={class:"flex flex-col md:flex-row justify-between space-y-4 md:space-x-4 md:space-y-0"},Ve={class:"flex flex-col space-y-4 w-full md:w-1/3"},Be=["onClick"],Le={class:"flex items-center"},ze=["src"],Ke={class:"ml-4 flex flex-col w-full"},We={class:"text-lg font-medium"},He={class:"text-sm"},Je={class:"mt-2 text-primary font-bold text-lg"},Ye={class:"text-gray-500 mt-1"},qe={class:"carousel flex items-center mt-2 space-x-4"},Ge={class:"flex items-center space-x-2 overflow-x-auto"},Qe=["src","alt","onClick"],Xe={class:"gap-5 relative left-0 top-0 align-start justify-end"},Ze=["onClick"],et=["onClick"],tt={class:"flex-1 h-full"},st=["onClick"],ot={class:"flex justify-between"},rt={class:"gap-5"},nt=["onClick"],at=["onClick"],ct={class:"flex flex-col items-center h-full"},lt={class:"relative"},it=["src"],dt={class:"text-center items-center pt-4 flex flex-col"},ut={class:"text-lg font-medium"},mt={class:"text-sm"},pt={class:"mt-2 text-primary font-bold text-lg"},gt={class:"text-gray-500 mt-1"},ft={class:"flex flex-col space-y-4 w-full md:w-1/3"},ht=["onClick"],vt={class:"flex items-center"},_t=["src"],xt={class:"ml-4 flex flex-col w-full"},yt={class:"text-lg font-medium"},bt={class:"text-sm"},wt={class:"mt-2 text-primary font-bold text-lg"},Ct={class:""},kt={class:"text-gray-500 mt-1"},St={class:"carousel flex items-center mt-2 space-x-4"},Tt={class:"flex items-center space-x-2 overflow-x-auto"},Pt=["src","alt","onClick"],It={class:"gap-5 relative left-0 top-0 align-start justify-end"},Ot=["onClick"],$t=["onClick"];function Nt(a,r,o,s,k,v){const S=K,y=W;return c(),l("div",Ce,[e("div",ke,[r[0]||(r[0]=e("div",{class:"text-lg font-semibold mb-2 border-b flex justify-between items-center"},[e("span",{class:"text-gray-500 pl-4"},"Hot Deals")],-1)),e("div",null,[I(S,{d_circular:!0,autoplayInterval:1e4,value:s.products,numVisible:1,numScroll:1,orientation:"horizontal",containerClass:"flex items-center justify-center",showIndicators:!1,showNavigators:!1},{item:pe(t=>[e("div",null,[e("div",Se,[e("div",Te,[e("img",{src:t.data.image,alt:t.data.name,class:"object-cover rounded",style:{"max-width":"100%"}},null,8,Pe)])]),e("div",Ie,u(t.data.name),1),e("div",Oe,[e("div",$e,u(s.formattedPrice(t.data.price)),1)]),e("div",Ne,[(c(),l(b,null,w(["DAYS","HOURS","MINS","SEC"],(n,f)=>e("div",{key:f,class:"flex flex-col items-center"},[e("div",je,u(f===0?21:"00"),1),e("span",De,u(n),1)])),64))])])]),_:1},8,["value"])])]),e("div",Ae,[e("div",Re,[r[1]||(r[1]=e("h2",{class:"text-lg font-bold mb-2 md:mb-0"},[e("span",{class:"text-red-500"},"Monthly Featured Items")],-1)),e("div",Fe,[(c(!0),l(b,null,w(s.tabs,t=>(c(),l("button",{key:t,onClick:n=>s.selectedTab=t,class:U(["px-2 py-1 md:px-4 md:py-2 text-sm font-semibold whitespace-nowrap",s.selectedTab===t?"border-b-2 border-primary text-orange-500":"text-gray-600"])},u(t),11,Me))),128))])]),e("div",Ue,[e("div",Ee,[e("div",Ve,[(c(!0),l(b,null,w(s.featuredProducts.slice(0,2),t=>(c(),l("div",{key:t.name,class:"border rounded-sm p-4 shadow-sm flex-1 cursor-pointer",onClick:n=>s.goToPage(t)},[e("div",Le,[e("img",{src:t.image,class:"w-28 h-28 object-cover rounded-md"},null,8,ze),e("div",Ke,[e("h3",We,u(t.product.name),1),e("span",He,u(t.name),1),e("div",Je,[e("span",null,u(s.formattedPrice(t.price)),1)]),e("p",Ye,[e("strong",null,u(t.features.map(n=>n.description).join(", ")),1)]),e("div",qe,[e("div",Ge,[(c(!0),l(b,null,w(t.images,(n,f)=>(c(),l("img",{key:f,src:n.uploadUrl,alt:"Product "+(f+1),onClick:T=>s.selectImage(t,n.uploadUrl),class:U(["w-10 h-10 md:w-10 md:h-10 rounded-md border border-gray-300 cursor-pointer hover:border-orange-500",{"border-orange-500":t.image===n}])},null,10,Qe))),128))])])]),e("div",Xe,[e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToFavorites(t)},r[2]||(r[2]=[e("i",{class:"pi pi-heart text-primary"},null,-1)]),8,Ze),e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToCart(t)},r[3]||(r[3]=[e("i",{class:"pi pi-shopping-cart text-primary"},null,-1)]),8,et)])])],8,Be))),128))]),e("div",tt,[(c(!0),l(b,null,w(s.featuredProducts.slice(2,3),t=>(c(),l("div",{key:t.name,class:"border rounded-sm p-4 shadow-sm h-full relative group transition duration-300 cursor-pointer",onClick:n=>s.goToPage(t)},[e("div",ot,[I(y,{severity:"warn",value:"New"}),e("div",rt,[e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToFavorites(t)},r[4]||(r[4]=[e("i",{class:"pi pi-heart text-primary"},null,-1)]),8,nt),e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToCart(t)},r[5]||(r[5]=[e("i",{class:"pi pi-shopping-cart text-primary"},null,-1)]),8,at)])]),e("div",ct,[e("div",lt,[e("img",{src:t.image,class:"object-cover rounded-md w-full h-48"},null,8,it)]),e("div",dt,[e("h3",ut,u(t.product.name),1),e("span",mt,u(t.name),1),e("div",pt,[e("span",null,u(s.formattedPrice(t.price)),1)]),e("p",gt,[e("strong",null,u(t.features.map(n=>n.description).join(", ")),1)])])])],8,st))),128))]),e("div",ft,[(c(!0),l(b,null,w(s.featuredProducts.slice(3,5),t=>(c(),l("div",{key:t.name,class:"border rounded-sm p-4 shadow-sm flex-1 cursor-pointer",onClick:n=>s.goToPage(t)},[e("div",vt,[e("img",{src:t.image,class:"w-28 h-28 object-cover rounded-md"},null,8,_t),e("div",xt,[e("h3",yt,u(t.product.name),1),e("span",bt,u(t.name),1),e("div",wt,[e("span",Ct,u(s.formattedPrice(t.price)),1)]),e("p",kt,[e("strong",null,u(t.features.map(n=>n.description).join(", ")),1)]),e("div",St,[e("div",Tt,[(c(!0),l(b,null,w(t.images,(n,f)=>(c(),l("img",{key:f,src:n.uploadUrl,alt:"Product "+(f+1),onClick:T=>s.selectImage(t,n.uploadUrl),class:U(["w-10 h-10 md:w-10 md:h-10 rounded-md border border-gray-300 cursor-pointer hover:border-orange-500",{"border-orange-500":t.image===n}])},null,10,Pt))),128))])])]),e("div",It,[e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToFavorites(t)},r[6]||(r[6]=[e("i",{class:"pi pi-heart text-primary"},null,-1)]),8,Ot),e("button",{class:"p-2 rounded-full transition-colors",onClick:n=>s.addToCart(t)},r[7]||(r[7]=[e("i",{class:"pi pi-shopping-cart text-primary"},null,-1)]),8,$t)])])],8,ht))),128))])])])])])}const jt=B(we,[["render",Nt]]),Dt={name:"Dashboard",components:{FlashCard:te,CategoryCard:se,ProductCard:oe,TopCard:re,Footer:ne,FilterCard:ae,TopDeal:jt},props:{searchTerm:{type:String,default:""}},setup(a){ge(()=>a.searchTerm,(d,h)=>{k.value=!0,j()}),fe(async()=>{j(),g(),await G()});const r=L(),o=p(1);p(1);const s=z(()=>[...x.value].sort(()=>Math.random()-.5).slice(0,6)),k=p(!1),v=p(null),S=p([20,80]),y=p(!1),t=p(!1),n=p({days:"00",hours:"00",minutes:"00",seconds:"00"}),f=d=>{r.push({path:`/products/${d.id}`})},T=p(new Date(new Date().getTime()+3*24*60*60*1e3)),g=()=>{const d=new Date().getTime(),h=T.value-d;h>0?n.value={days:Math.floor(h/(1e3*60*60*24)).toString().padStart(2,"0"),hours:Math.floor(h%(1e3*60*60*24)/(1e3*60*60)).toString().padStart(2,"0"),minutes:Math.floor(h%(1e3*60*60)/(1e3*60)).toString().padStart(2,"0"),seconds:Math.floor(h%(1e3*60)/1e3).toString().padStart(2,"0")}:(clearInterval(this.timer),n.value={days:"00",hours:"00",minutes:"00",seconds:"00"})},O={"HD ANALOGUE CAMERAS AND DVR":"pi pi-video","IP NETWORK CAMERAS AND NVR":"pi pi-wifi","ACCESS CONTROL PRODUCTS":"pi pi-lock","VIDEO INTERCOM PRODUCTS":"pi pi-phone","NETWORK AND CABLES PRODUCTS":"pi pi-sitemap","MONITOR DISPLAY PRODUCTS":"pi pi-desktop","ACCESSORIES PRODUCTS":"pi pi-cog",Phones:"pi pi-mobile"},P=d=>O[d]||"pi pi-question",i=p([]),_=p([]);R();const x=p([]),m=p(0),C=()=>{m.value=(m.value+1)%i.value.length},$=()=>{o.value++,j()},N=()=>{m.value=(m.value-1+i.value.length)%i.value.length},H=d=>{console.log("ca",d)},J=d=>d?new Intl.NumberFormat("en-US",{style:"currency",currency:"Ksh",minimumFractionDigits:0}).format(d):"0",Y=d=>{v.value=[d.id],j()},q=d=>{m.value=d},j=async()=>{y.value=!0,t.value=!0;try{const{$axios:d}=R(),h={};a.searchTerm&&(h.searchTerm=a.searchTerm),v.value&&(h.categoryIds=v.value);const X=await d.get("/product/product-models",{params:{...h,page:o.value,limit:10}});y.value=!1,t.value=!1,x.value=[...x.value,...X.data.results]}catch(d){console.error("Error fetching products:",d),y.value=!1,t.value=!1}},G=async()=>{const{$axios:d}=R();try{const h=await d.get("/product/categories",{});_.value=h.data}catch(h){console.error("Error fetching products:",h)}},Q=p([{breakpoint:"1400px",numVisible:4,numScroll:4},{breakpoint:"1199px",numVisible:4,numScroll:4},{breakpoint:"767px",numVisible:2,numScroll:2},{breakpoint:"475px",numVisible:1,numScroll:1}]);return{images:i,currentIndex:m,nextSlide:C,prevSlide:N,goToSlide:q,categories:_,products:x,responsiveOptions:Q,getItems:H,getSeverity:d=>{switch(d){case"INSTOCK":return"success";case"LOWSTOCK":return"warn";case"OUTOFSTOCK":return"danger";default:return null}},value:S,filter:k,showMoreProducts:$,fetching:y,fetchingMore:t,formatPrice:J,randomizedProducts:s,goToProductPage:f,getIcon:P,getCategoryProducts:Y}}},At={class:"container mx-auto my-10 pa-10"},Rt={class:"p-4 rounded-md"},Ft={class:"flex overflow-x-auto gap-4 p-2"},Mt=["onClick"],Ut={class:"relative"},Et=["src","alt"],Vt={class:"text-sm font-medium mt-2 truncate"},Bt={class:"text-lg font-semibold text-gray-900"},Lt={class:"text-gray-500 text-xs line-through"},zt={class:"flash-sales mt-5 mx-2 full-screen",style:{"min-height":"900px"}},Kt={class:"flex"},Wt={class:"w-full"},Ht={key:0,class:"text-center mt-6"},Jt={key:1,class:"flex flex-col items-center justify-center text-center mt-12 text-gray-500"},Yt={key:2,class:"grid gap-3 grid-cols-1 sm:grid-cols-3 md:grid-cols-3 lg:grid-cols-4 justify-center"},qt={key:3,class:"flex justify-center py-8"};function Gt(a,r,o,s,k,v){const S=A("TopCard"),y=A("TopDeal"),t=A("FilterCard"),n=A("ProductCard"),f=ee,T=Z;return c(),l("div",At,[I(S,{categories:s.categories},null,8,["categories"]),I(y),e("section",null,[e("div",Rt,[r[1]||(r[1]=e("div",{class:"flex justify-between items-center mb-4 px-2"},[e("h2",{class:"text-lg font-semibold"},"Top selling items")],-1)),e("div",Ft,[(c(!0),l(b,null,w(s.randomizedProducts,(g,O)=>{var P;return c(),l("div",{key:O,class:"min-w-[200px] md:min-w-[220px] bg-white rounded-md shadow-md cursor-pointer p-2",onClick:i=>s.goToProductPage(g)},[e("div",Ut,[e("img",{src:(P=g.images[0])==null?void 0:P.uploadUrl,alt:g.name,class:"w-full h-36 object-cover rounded-md"},null,8,Et)]),he(" "+u(g.product.name)+" ",1),e("h3",Vt,u(g.name),1),e("p",Bt,u(s.formatPrice(g.price)),1),e("p",Lt,u(g.oldPrice),1)],8,Mt)}),128))])])]),e("section",zt,[r[4]||(r[4]=e("div",{class:"flex justify-between items-center mb-4"},[e("h2",{class:"text-xl font-bold"},"Explore Our Products"),e("div",{class:"flex space-x-2"},[e("button",{class:"bg-red-500 text-white px-4 py-2"},"View All")])],-1)),e("div",Kt,[s.filter?(c(),E(t,{key:0})):F("",!0),e("div",Wt,[s.fetching&&s.products.length<1?(c(),l("div",Ht,r[2]||(r[2]=[e("div",{class:"relative flex justify-center items-center"},[e("div",{class:"absolute animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-purple-100"}),e("img",{src:"https://freelancerdxb.s3.eu-central-1.amazonaws.com/documents/image%20%285%29__5d197f13926ac20a20a6f301d00ce69b516f83eb.png",class:"rounded-full h-24 w-24"})],-1)]))):s.products.length==0?(c(),l("div",Jt,r[3]||(r[3]=[e("img",{src:ce,alt:"No items found",class:"h-56 w-56"},null,-1),e("p",{class:"pt-6"},"No items found",-1)]))):(c(),l("div",Yt,[(c(!0),l(b,null,w(s.products,g=>(c(),E(n,{key:g.id,item:g},null,8,["item"]))),128))])),s.products.length!=0?(c(),l("div",qt,[I(f,{type:"button",label:"Show More",icon:"pi pi-sync",loading:s.fetchingMore,onClick:r[0]||(r[0]=g=>s.showMoreProducts())},null,8,["loading"])])):F("",!0)])])]),I(T)])}const ps=B(Dt,[["render",Gt],["__scopeId","data-v-de5069a6"]]);export{ps as default};
