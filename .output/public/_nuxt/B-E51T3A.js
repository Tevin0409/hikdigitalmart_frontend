import{s as L}from"./Ce1iqvKm.js";import{s as A}from"./BZv_5Db4.js";import{B as D,v as m,o as l,c as a,G as w,u as b,H as M,I as p,t as d,q as I,a as r,F as k,m as O,s as _,b as S,_ as V,y,J as E,x as N,w as P,N as v,V as x,d as F}from"./DwO-iRVR.js";var z=function(e){var s=e.dt;return`
.p-breadcrumb {
    background: `.concat(s("breadcrumb.background"),`;
    padding: `).concat(s("breadcrumb.padding"),`;
    overflow-x: auto;
}

.p-breadcrumb-list {
    margin: 0;
    padding: 0;
    list-style-type: none;
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    gap: `).concat(s("breadcrumb.gap"),`;
}

.p-breadcrumb-separator {
    display: flex;
    align-items: center;
    color: `).concat(s("breadcrumb.separator.color"),`;
}

.p-breadcrumb-separator-icon:dir(rtl) {
    transform: rotate(180deg);
}

.p-breadcrumb::-webkit-scrollbar {
    display: none;
}

.p-breadcrumb-item-link {
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: `).concat(s("breadcrumb.item.gap"),`;
    transition: background `).concat(s("breadcrumb.transition.duration"),", color ").concat(s("breadcrumb.transition.duration"),", outline-color ").concat(s("breadcrumb.transition.duration"),", box-shadow ").concat(s("breadcrumb.transition.duration"),`;
    border-radius: `).concat(s("breadcrumb.item.border.radius"),`;
    outline-color: transparent;
    color: `).concat(s("breadcrumb.item.color"),`;
}

.p-breadcrumb-item-link:focus-visible {
    box-shadow: `).concat(s("breadcrumb.item.focus.ring.shadow"),`;
    outline: `).concat(s("breadcrumb.item.focus.ring.width")," ").concat(s("breadcrumb.item.focus.ring.style")," ").concat(s("breadcrumb.item.focus.ring.color"),`;
    outline-offset: `).concat(s("breadcrumb.item.focus.ring.offset"),`;
}

.p-breadcrumb-item-link:hover .p-breadcrumb-item-label {
    color: `).concat(s("breadcrumb.item.hover.color"),`;
}

.p-breadcrumb-item-label {
    transition: inherit;
}

.p-breadcrumb-item-icon {
    color: `).concat(s("breadcrumb.item.icon.color"),`;
    transition: inherit;
}

.p-breadcrumb-item-link:hover .p-breadcrumb-item-icon {
    color: `).concat(s("breadcrumb.item.icon.hover.color"),`;
}
`)},T={root:"p-breadcrumb p-component",list:"p-breadcrumb-list",homeItem:"p-breadcrumb-home-item",separator:"p-breadcrumb-separator",separatorIcon:"p-breadcrumb-separator-icon",item:function(e){var s=e.instance;return["p-breadcrumb-item",{"p-disabled":s.disabled()}]},itemLink:"p-breadcrumb-item-link",itemIcon:"p-breadcrumb-item-icon",itemLabel:"p-breadcrumb-item-label"},j=D.extend({name:"breadcrumb",theme:z,classes:T}),R={name:"BaseBreadcrumb",extends:A,props:{model:{type:Array,default:null},home:{type:null,default:null}},style:j,provide:function(){return{$pcBreadcrumb:this,$parentInstance:this}}},U={name:"BreadcrumbItem",hostName:"Breadcrumb",extends:A,props:{item:null,templates:null,index:null},methods:{onClick:function(e){this.item.command&&this.item.command({originalEvent:e,item:this.item})},visible:function(){return typeof this.item.visible=="function"?this.item.visible():this.item.visible!==!1},disabled:function(){return typeof this.item.disabled=="function"?this.item.disabled():this.item.disabled},label:function(){return typeof this.item.label=="function"?this.item.label():this.item.label},isCurrentUrl:function(){var e=this.item,s=e.to,c=e.url,o=typeof window<"u"?window.location.pathname:"";return s===o||c===o?"page":void 0}},computed:{ptmOptions:function(){return{context:{item:this.item,index:this.index}}},getMenuItemProps:function(){var e=this;return{action:m({class:this.cx("itemLink"),"aria-current":this.isCurrentUrl(),onClick:function(c){return e.onClick(c)}},this.ptm("itemLink",this.ptmOptions)),icon:m({class:[this.cx("icon"),this.item.icon]},this.ptm("icon",this.ptmOptions)),label:m({class:this.cx("label")},this.ptm("label",this.ptmOptions))}}}},W=["href","target","aria-current"];function G(t,e,s,c,o,i){return i.visible()?(l(),a("li",m({key:0,class:[t.cx("item"),s.item.class]},t.ptm("item",i.ptmOptions)),[s.templates.item?(l(),w(M(s.templates.item),{key:1,item:s.item,label:i.label(),props:i.getMenuItemProps},null,8,["item","label","props"])):(l(),a("a",m({key:0,href:s.item.url||"#",class:t.cx("itemLink"),target:s.item.target,"aria-current":i.isCurrentUrl(),onClick:e[0]||(e[0]=function(){return i.onClick&&i.onClick.apply(i,arguments)})},t.ptm("itemLink",i.ptmOptions)),[s.templates&&s.templates.itemicon?(l(),w(M(s.templates.itemicon),{key:0,item:s.item,class:b(t.cx("itemIcon",i.ptmOptions))},null,8,["item","class"])):s.item.icon?(l(),a("span",m({key:1,class:[t.cx("itemIcon"),s.item.icon]},t.ptm("itemIcon",i.ptmOptions)),null,16)):p("",!0),s.item.label?(l(),a("span",m({key:2,class:t.cx("itemLabel")},t.ptm("itemLabel",i.ptmOptions)),d(i.label()),17)):p("",!0)],16,W))],16)):p("",!0)}U.render=G;var B={name:"Breadcrumb",extends:R,inheritAttrs:!1,components:{BreadcrumbItem:U,ChevronRightIcon:L}};function q(t,e,s,c,o,i){var f=I("BreadcrumbItem"),C=I("ChevronRightIcon");return l(),a("nav",m({class:t.cx("root")},t.ptmi("root")),[r("ol",m({class:t.cx("list")},t.ptm("list")),[t.home?(l(),w(f,m({key:0,item:t.home,class:t.cx("homeItem"),templates:t.$slots,pt:t.pt,unstyled:t.unstyled},t.ptm("homeItem")),null,16,["item","class","templates","pt","unstyled"])):p("",!0),(l(!0),a(k,null,O(t.model,function(n,u){return l(),a(k,{key:n.label+"_"+u},[t.home||u!==0?(l(),a("li",m({key:0,class:t.cx("separator"),ref_for:!0},t.ptm("separator")),[_(t.$slots,"separator",{},function(){return[S(C,m({"aria-hidden":"true",class:t.cx("separatorIcon"),ref_for:!0},t.ptm("separatorIcon")),null,16,["class"])]})],16)):p("",!0),S(f,{item:n,index:u,templates:t.$slots,pt:t.pt,unstyled:t.unstyled},null,8,["item","index","templates","pt","unstyled"])],64)}),128))],16)],16)}B.render=q;const H={data(){return{selectedFilter:"All",filters:["All","Pending","Delivered","Cancelled"],removeItem:!1,loadingAdd:!1,home:{icon:"pi pi-home"},items:[{label:"Home",route:"/"},{label:"My Account",route:"/profile"}],activeSection:"profile",user:{firstName:"",lastName:"",email:"",address:"",phoneNumber:"",createdAt:""},orders:[],wishlist:[]}},computed:{filteredOrders(){return this.selectedFilter==="All"?this.orders:this.orders.filter(t=>t.status===this.selectedFilter)}},async mounted(){await this.getUserData(),await this.getWishList(),await this.getOrders()},methods:{updateUser(){},getProductImage(t){var e,s,c;return console.log("Order Item:",t),((s=(e=t==null?void 0:t.productModel)==null?void 0:e.images)==null?void 0:s.length)>0?(console.log("Image found:",(c=t.productModel.images[0])==null?void 0:c.optimizeUrl),t.productModel.images[0].optimizeUrl):(console.log("Using fallback image"),"https://media.istockphoto.com/id/1410977641/photo/high-technology-security-monitoring-system-cctv-camera.jpg?s=612x612&w=0&k=20&c=ueVgTwwn5Xq-S0Tz6Wfj9sILEubWxURkzkvVrzpSYRI=")},formattedPrice(t){const{$formatPrice:e}=y();return e(t)},formatDate(t){return new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"long",year:"numeric"})},async getOrders(){const e=await E().getOrders();this.orders=e},async removeWish(t){const{$axios:e}=y();this.removeItem=!0;try{const s=await e.post(`/product/wishlist/remove/${productID}`);this.removeItem=!1}catch{this.removeItem=!1}},async addToCart(t){const{$axios:e}=y();this.loadingAdd=!0,setTimeout(()=>{this.loadingAdd=!1},2e3);try{const s={productId:t.id,quantity:1},c=await e.post("/product/cart/add",s);this.loadingAdd=!1}catch{this.loadingAdd=!1}},async getWishList(){const{$axios:t}=y();try{const e=await t.get("/product/wishlist");this.wishlist=e.data}catch(e){console.error(e)}},async getUserData(){const t=N();this.user=t.user},logout(){N().logout()}}},Y={class:"container mx-auto my-10 px-4"},J={class:"breadcrumb text-sm mb-4 card"},K={class:"card flex"},X=["href","onClick"],Q={class:"text-primary font-semibold"},Z=["href","target"],$={class:"text-surface-700 dark:text-surface-0"},ee={class:"flex flex-col md:flex-row"},te={class:"space-y-2 text-gray-600 pt-2 p-4"},re={class:"md:w-3/4 w-full bg-white border p-4"},se={key:0},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},oe={class:"flex justify-between mt-6"},ie={key:1},le={class:"mt-4 flex flex-col md:flex-row items-center md:items-start"},ae={class:"ml-4"},me={class:"text-gray-600"},de={key:2},ce={class:"p-4 bg-gray-100"},ue={class:"flex space-x-4 mb-4 overflow-x-auto"},pe=["onClick"],be={class:"flex justify-between items-center"},fe={class:"text-sm text-gray-500"},he={class:"mt-2 flex flex-col md:flex-row items-center md:items-start"},ge=["src"],ye={class:"ml-0 md:ml-4 text-center md:text-left"},ve={class:"text-red-600 font-semibold"},xe={class:"text-gray-700"},we={key:0,class:"text-blue-600"},ke={class:"text-gray-800 font-semibold mt-1"};function Ce(t,e,s,c,o,i){const f=I("router-link"),C=B;return l(),a("div",Y,[r("div",J,[r("div",K,[S(C,{home:o.home,model:o.items},{item:P(({item:n,props:u})=>[n.route?(l(),w(f,{key:0,to:n.route,custom:""},{default:P(({href:h,navigate:g})=>[r("a",m({href:h},u.action,{onClick:g}),[r("span",{class:b([n.icon,"text-color"])},null,2),r("span",Q,d(n.label),1)],16,X)]),_:2},1032,["to"])):(l(),a("a",m({key:1,href:n.url,target:n.target},u.action),[r("span",$,d(n.label),1)],16,Z))]),_:1},8,["home","model"])])]),r("button",{class:"md:hidden bg-red-500 text-white px-4 py-2 rounded mb-4",onClick:e[0]||(e[0]=(...n)=>t.toggleSidebar&&t.toggleSidebar(...n))},d(t.sidebarOpen?"Close Menu":"Menu"),1),r("div",ee,[r("aside",{class:b(["md:w-1/4 w-full bg-white shadow-md md:shadow-none md:block fixed md:relative top-0 left-0 h-full md:h-auto transform transition-transform duration-300 ease-in-out",t.sidebarOpen?"translate-x-0":"-translate-x-full md:translate-x-0"])},[r("ul",te,[e[10]||(e[10]=r("li",{class:"font-bold text-red-500"},"Manage My Account",-1)),r("li",{onClick:e[1]||(e[1]=n=>t.setActiveSection("profile")),class:"cursor-pointer"}," Profile "),r("li",{onClick:e[2]||(e[2]=n=>t.setActiveSection("paymentOptions")),class:"cursor-pointer"}," Payment Options "),r("li",{onClick:e[3]||(e[3]=n=>t.setActiveSection("orders")),class:"font-bold text-red-500 mt-4 cursor-pointer"}," My Orders ")]),r("button",{onClick:e[4]||(e[4]=(...n)=>i.logout&&i.logout(...n)),class:"bg-red-500 text-white px-4 py-2 rounded w-full mt-4 md:mt-12"}," Logout ")],2),r("main",re,[o.activeSection==="profile"?(l(),a("div",se,[e[16]||(e[16]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"Edit Your Profile",-1)),r("form",null,[r("div",ne,[r("div",null,[e[11]||(e[11]=r("label",null,"First Name",-1)),v(r("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=n=>o.user.firstName=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.firstName]])]),r("div",null,[e[12]||(e[12]=r("label",null,"Last Name",-1)),v(r("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=n=>o.user.lastName=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.lastName]])]),r("div",null,[e[13]||(e[13]=r("label",null,"Email",-1)),v(r("input",{type:"email","onUpdate:modelValue":e[7]||(e[7]=n=>o.user.email=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.email]])]),r("div",null,[e[14]||(e[14]=r("label",null,"Phone Number",-1)),v(r("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=n=>o.user.phoneNumber=n),class:"border w-full p-2 mt-1"},null,512),[[x,o.user.phoneNumber]])])]),r("div",oe,[e[15]||(e[15]=r("button",{class:"border px-4 py-2 w-1/2 md:w-auto"},"Cancel",-1)),r("button",{class:"bg-red-500 text-white px-4 py-2 w-1/2 md:w-auto",onClick:e[9]||(e[9]=(...n)=>i.updateUser&&i.updateUser(...n))}," Save Changes ")])])])):p("",!0),o.activeSection==="paymentOptions"?(l(),a("div",ie,[e[19]||(e[19]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"Payment Method",-1)),r("div",le,[e[18]||(e[18]=r("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO-01.svg/512px-M-PESA_LOGO-01.svg.png?20191120100524",class:"w-1/2 md:w-1/4",alt:"Mpesa Logo"},null,-1)),r("div",ae,[e[17]||(e[17]=r("h3",{class:"font-bold mb-2"},"Mpesa",-1)),r("p",me,"Mobile Number: "+d(o.user.phoneNumber),1)])])])):p("",!0),o.activeSection==="orders"?(l(),a("div",de,[e[20]||(e[20]=r("h2",{class:"text-xl font-bold mb-4 text-red-500"},"My Orders",-1)),r("div",ce,[r("div",ue,[(l(!0),a(k,null,O(o.filters,n=>(l(),a("button",{key:n,onClick:u=>o.selectedFilter=n,class:b(["px-4 py-2 rounded-full border whitespace-nowrap",o.selectedFilter===n?"bg-red-100 text-red-600":"bg-white text-gray-600"])},d(n),11,pe))),128))]),(l(!0),a(k,null,O(i.filteredOrders,(n,u)=>{var h,g;return l(),a("div",{key:u,class:"bg-white shadow-md rounded-lg mb-4 p-4"},[r("div",be,[r("span",{class:b(["px-3 py-1 text-xs rounded-full",{"bg-yellow-200 text-yellow-800":n.status==="Pending","bg-green-100 text-green-600":n.status==="Delivered","bg-gray-300 text-gray-700":n.status==="Cancelled"}])},d(n.status),3),r("span",fe,d(i.formatDate(n.createdAt)),1)]),r("div",he,[r("img",{src:(g=(h=n.orderItems[0])==null?void 0:h.productModel.images[0])==null?void 0:g.optimizeUrl,alt:"Product Image",class:"w-16 h-16 rounded-md object-cover"},null,8,ge),r("div",ye,[r("p",ve," Order ID: "+d(n.id.slice(0,8)),1),r("p",xe,[F(d(n.orderItems[0].productModel.name)+" ",1),n.orderItems.length>1?(l(),a("span",we," & "+d(n.orderItems.length-1)+" more items",1)):p("",!0)]),r("p",ke," KES "+d(i.formattedPrice(n.total)),1)])])])}),128))])])):p("",!0)])])])}const Me=V(H,[["render",Ce]]);export{Me as default};
