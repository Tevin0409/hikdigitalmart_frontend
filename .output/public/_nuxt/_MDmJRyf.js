import{_ as j}from"./CKFdUZxC.js";import{y as w,Q as q,J as B,r as E,R as k,S as I,c as l,a as t,b as C,w as S,t as o,F as R,m as $,o as i,d as F}from"./DwO-iRVR.js";const K=""+new URL("empty-cart.Dg7uAmTc.png",import.meta.url).href,L={class:"cart"},U={key:0,class:"flex flex-col items-center justify-center bg-white rounded-lg p-6 mb-6 container mx-auto"},V={key:1,class:"mx-auto container"},z={class:"bg-red-10 rounded-lg p-4"},A={class:"flex justify-between items-center mb-4"},D={class:"text-lg font-semibold text-gray-700"},Q={class:"bg-white mx-auto"},J={class:"bg-white grid grid-cols-12 gap-4"},Y={class:"col-span-12 md:col-span-9"},G={class:"flex items-start"},H=["src"],O={class:"ml-4 flex-grow"},W={class:"text-lg font-medium"},X={class:"text--500 text-sm"},Z={class:"text-right"},tt={class:"text-xl font-semibold text-gray-900"},st={class:"flex items-center justify-between mt-4"},et=["onClick"],ot={class:"flex items-center"},nt=["onClick","disabled"],at={class:"px-4"},rt=["onClick"],lt={class:"col-span-12 md:col-span-3"},it={class:"cart-total rounded-lg"},ct={class:"text-gray-600"},dt={class:"text-lg font-bold"},_t={__name:"index",setup(ut){const{$formatPrice:T}=w(),P=q(),u=B();w(),E("");const m=k(()=>u.cartTotal),c=k(()=>u.cartItems),d=n=>T(n),p=(n,s)=>{const r=c.value.find(e=>e.id===n);r&&s>0&&(r.quantity=s)},M=async n=>{await u.removeFromCart(n.id)},N=()=>{P.push("/checkout")};return I(()=>{}),(n,s)=>{const r=j;return i(),l("div",L,[c.value.length<1?(i(),l("div",U,[s[1]||(s[1]=t("img",{src:K,alt:"Empty Cart",class:"w-20 h-20 mb-4"},null,-1)),s[2]||(s[2]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Your cart is empty!",-1)),s[3]||(s[3]=t("p",{class:"text-gray-500 text-sm mb-4"}," Browse our categories and discover our best deals! ",-1)),C(r,{to:"/"},{default:S(()=>s[0]||(s[0]=[t("button",{class:"bg-primary hover:bg-orange-600 text-white font-semibold px-4 py-2 rounded"}," Start Shopping ",-1)])),_:1})])):(i(),l("div",V,[t("div",z,[t("div",A,[t("h3",D," Cart ("+o(c.value.length)+") ",1),C(r,{to:"/cart"},{default:S(()=>s[4]||(s[4]=[t("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},null,-1)])),_:1})]),t("div",Q,[t("div",J,[t("div",Y,[(i(!0),l(R,null,$(c.value,e=>{var _,g,x,h,b,f,y,v;return i(),l("div",{class:"rounded-lg p-4 gap-3 pb-4 mb-2 border",key:e.id},[t("div",G,[t("img",{class:"w-20 h-20 object-contain",src:((g=(_=e.productModel)==null?void 0:_.images.find(a=>a.isPrimary))==null?void 0:g.optimizeUrl)??((h=(x=e.images)==null?void 0:x.find(a=>a.isPrimary))==null?void 0:h.optimizeUrl),alt:"Product Image"},null,8,H),t("div",O,[t("h2",W,o(((b=e.productModel)==null?void 0:b.name)??e.name),1),t("p",X,o((y=(f=e.productModel)==null?void 0:f.features[0])==null?void 0:y.description),1)]),t("div",Z,[t("p",tt," Ksh "+o(d(((v=e.productModel)==null?void 0:v.price)??e.price)),1)])]),t("div",st,[t("button",{onClick:a=>M(e),class:"text-red-500 flex items-center"},s[5]||(s[5]=[t("span",{class:"mr-2"},"🗑️",-1),F(" Remove ")]),8,et),t("div",ot,[t("button",{onClick:a=>p(e.id,e.quantity-1),class:"bg-gray-300 px-3 py-1 rounded-lg",disabled:e.quantity<=1}," - ",8,nt),t("span",at,o(e.quantity),1),t("button",{onClick:a=>p(e.id,e.quantity+1),class:"bg-primary text-white px-3 py-1 rounded-lg"}," + ",8,rt)])])])}),128))]),t("div",lt,[t("div",it,[s[6]||(s[6]=t("h3",{class:"text-lg font-semibold"},"Cart Total",-1)),t("p",ct," Subtotal: KES "+o(d(m.value)),1),s[7]||(s[7]=t("hr",{class:"my-2"},null,-1)),t("p",dt," Total: KES "+o(d(m.value)),1),t("button",{class:"w-full bg-primary text-white py-2 mt-4 rounded-lg hover:bg-secondary",onClick:N}," Checkout ("+o(d(m.value))+") ",1)])])])])])]))])}}};export{_t as default};
