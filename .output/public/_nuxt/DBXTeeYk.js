import{_ as $}from"./g57Y6IBJ.js";import{s as z}from"./BRhSRpvs.js";import{y as P,Q as A,J as F,r as x,R as S,S as L,q as Q,c,a as t,b,w as _,t as o,F as U,m as D,o as r,G as E,u as G,v as B,d as J}from"./jSwVqkrp.js";import"./EAO2K0KV.js";import"./DdvFyE0G.js";const Y=""+new URL("empty-cart.Dg7uAmTc.png",import.meta.url).href,H={class:"cart"},O={key:0,class:"flex flex-col items-center justify-center bg-white rounded-lg p-6 mb-6 container mx-auto"},W={key:1,class:"mx-auto container"},X=["href","onClick"],Z={class:"text-primary font-semibold"},tt=["href","target"],st={class:"text-surface-700 dark:text-surface-0"},et={class:"bg-red-10 rounded-lg p-4"},ot={class:"flex justify-between items-center mb-4"},at={class:"text-lg font-semibold text-gray-700"},rt={class:"bg-white mx-auto"},nt={class:"bg-white grid grid-cols-12 gap-4"},lt={class:"col-span-12 md:col-span-9"},ct={class:"flex items-start"},it=["src"],dt={class:"ml-4 flex-grow"},ut={class:"text-lg font-medium"},mt={class:"text--500 text-sm"},pt={class:"text-right"},_t={class:"text-xl font-semibold text-gray-900"},ht={class:"flex items-center justify-between mt-4"},gt=["onClick"],xt={class:"flex items-center"},bt=["onClick","disabled"],ft={class:"px-4"},yt=["onClick"],vt={class:"col-span-12 md:col-span-3"},kt={class:"cart-total rounded-lg"},Ct={class:"text-gray-600"},wt={class:"text-gray-600"},Tt={class:"text-lg font-bold"},Vt={__name:"index",setup(Pt){const{$formatPrice:q}=P(),M=A(),u=F();P(),x("");const n=S(()=>u.cartTotal),h=S(()=>u.cartItems),N=x({icon:"pi pi-home",route:"/dashboard"}),V=x([{label:"Cart",route:"/cart"},{label:"Checkout",route:"/checkout"}]),i=a=>q(a),f=async(a,e)=>{await u.updateQuantity(a,e)},j=async a=>{await u.removeFromCart(a.id)},g=a=>a*.16,I=()=>{M.push("/checkout")};return L(()=>{}),(a,e)=>{const y=$,K=Q("router-link"),R=z;return r(),c("div",H,[h.value.length<1?(r(),c("div",O,[e[1]||(e[1]=t("img",{src:Y,alt:"Empty Cart",class:"w-20 h-20 mb-4"},null,-1)),e[2]||(e[2]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Your cart is empty!",-1)),e[3]||(e[3]=t("p",{class:"text-gray-500 text-sm mb-4"}," Browse our categories and discover our best deals! ",-1)),b(y,{to:"/"},{default:_(()=>e[0]||(e[0]=[t("button",{class:"bg-primary hover:bg-orange-600 text-white font-semibold px-4 py-2 rounded"}," Start Shopping ",-1)])),_:1})])):(r(),c("div",W,[b(R,{home:N.value,model:V.value},{item:_(({item:s,props:d})=>[s.route?(r(),E(K,{key:0,to:s.route,custom:""},{default:_(({href:m,navigate:p})=>[t("a",B({href:m},d.action,{onClick:p}),[t("span",{class:G([s.icon,"text-color"])},null,2),t("span",Z,o(s.label),1)],16,X)]),_:2},1032,["to"])):(r(),c("a",B({key:1,href:s.url,target:s.target},d.action),[t("span",st,o(s.label),1)],16,tt))]),_:1},8,["home","model"]),t("div",et,[t("div",ot,[t("h3",at," Cart ("+o(h.value.length)+") ",1),b(y,{to:"/cart"},{default:_(()=>e[4]||(e[4]=[t("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},null,-1)])),_:1})]),t("div",rt,[t("div",nt,[t("div",lt,[(r(!0),c(U,null,D(h.value,s=>{var d,m,p,v,k,C,w,T;return r(),c("div",{class:"rounded-lg p-4 gap-3 pb-4 mb-2 border",key:s.id},[t("div",ct,[t("img",{class:"w-20 h-20 object-contain",src:((m=(d=s.productModel)==null?void 0:d.images.find(l=>l.isPrimary))==null?void 0:m.optimizeUrl)??((v=(p=s.images)==null?void 0:p.find(l=>l.isPrimary))==null?void 0:v.optimizeUrl),alt:"Product Image"},null,8,it),t("div",dt,[t("h2",ut,o(((k=s.productModel)==null?void 0:k.name)??s.name),1),t("p",mt,o((w=(C=s.productModel)==null?void 0:C.features[0])==null?void 0:w.description),1)]),t("div",pt,[t("p",_t," Ksh "+o(i(((T=s.productModel)==null?void 0:T.price)??s.price)),1)])]),t("div",ht,[t("button",{onClick:l=>j(s),class:"text-red-500 flex items-center"},e[5]||(e[5]=[t("span",{class:"mr-2"},"🗑️",-1),J(" Remove ")]),8,gt),t("div",xt,[t("button",{onClick:l=>f(s.id,s.quantity-1),class:"bg-gray-300 px-3 py-1 rounded-lg",disabled:s.quantity<=1}," - ",8,bt),t("span",ft,o(s.quantity),1),t("button",{onClick:l=>f(s.id,s.quantity+1),class:"bg-primary text-white px-3 py-1 rounded-lg"}," + ",8,yt)])])])}),128))]),t("div",vt,[t("div",kt,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold"},"Cart Total",-1)),t("p",Ct," Subtotal: Ksh "+o(i(n.value)),1),e[7]||(e[7]=t("hr",{class:"my-2"},null,-1)),t("p",wt," VAT (16%): Ksh "+o(i(g(n.value))),1),e[8]||(e[8]=t("hr",{class:"my-2"},null,-1)),t("p",Tt," Total: Ksh "+o(i(n.value+g(n.value))),1),t("button",{class:"w-full bg-primary text-white py-2 mt-4 rounded-lg hover:bg-secondary",onClick:I}," Checkout ("+o(i(n.value+g(n.value)))+") ",1)])])])])])]))])}}};export{Vt as default};
