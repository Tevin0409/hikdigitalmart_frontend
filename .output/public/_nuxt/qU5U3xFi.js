import{_ as z}from"./BWNyz5Bq.js";import{s as F}from"./CEOHXjAF.js";import{y as P,Q as K,J as L,r as g,R as S,S as Q,q as U,c as l,a as t,b as x,w as p,t as o,F as V,m as A,o as a,G as D,u as E,v as T,d as G}from"./BEjfRqa4.js";import"./YBik_lWT.js";import"./CymfgsnO.js";const J=""+new URL("empty-cart.Dg7uAmTc.png",import.meta.url).href,Y={class:"cart"},H={key:0,class:"flex flex-col items-center justify-center bg-white rounded-lg p-6 mb-6 container mx-auto"},O={key:1,class:"mx-auto container"},W=["href","onClick"],X={class:"text-primary font-semibold"},Z=["href","target"],tt={class:"text-surface-700 dark:text-surface-0"},st={class:"bg-red-10 rounded-lg p-4"},et={class:"flex justify-between items-center mb-4"},ot={class:"text-lg font-semibold text-gray-700"},at={class:"bg-white mx-auto"},rt={class:"bg-white grid grid-cols-12 gap-4"},nt={class:"col-span-12 md:col-span-9"},lt={class:"flex items-start"},ct=["src"],it={class:"ml-4 flex-grow"},dt={class:"text-lg font-medium"},ut={class:"text--500 text-sm"},mt={class:"text-right"},pt={class:"text-xl font-semibold text-gray-900"},_t={class:"flex items-center justify-between mt-4"},ht=["onClick"],gt={class:"flex items-center"},xt=["onClick","disabled"],bt={class:"px-4"},ft=["onClick"],yt={class:"col-span-12 md:col-span-3"},vt={class:"cart-total rounded-lg"},kt={class:"text-gray-600"},Ct={class:"text-lg font-bold"},Mt={__name:"index",setup(wt){const{$formatPrice:B}=P(),q=K(),i=L();P(),g("");const _=S(()=>i.cartTotal),h=S(()=>i.cartItems),M=g({icon:"pi pi-home",route:"/dashboard"}),N=g([{label:"Cart",route:"/cart"},{label:"Checkout",route:"/checkout"}]),d=r=>B(r),b=async(r,e)=>{await i.updateQuantity(r,e)},j=async r=>{await i.removeFromCart(r.id)},I=()=>{q.push("/checkout")};return Q(()=>{}),(r,e)=>{const f=z,R=U("router-link"),$=F;return a(),l("div",Y,[h.value.length<1?(a(),l("div",H,[e[1]||(e[1]=t("img",{src:J,alt:"Empty Cart",class:"w-20 h-20 mb-4"},null,-1)),e[2]||(e[2]=t("h2",{class:"text-xl font-semibold text-gray-700"},"Your cart is empty!",-1)),e[3]||(e[3]=t("p",{class:"text-gray-500 text-sm mb-4"}," Browse our categories and discover our best deals! ",-1)),x(f,{to:"/"},{default:p(()=>e[0]||(e[0]=[t("button",{class:"bg-primary hover:bg-orange-600 text-white font-semibold px-4 py-2 rounded"}," Start Shopping ",-1)])),_:1})])):(a(),l("div",O,[x($,{home:M.value,model:N.value},{item:p(({item:s,props:c})=>[s.route?(a(),D(R,{key:0,to:s.route,custom:""},{default:p(({href:u,navigate:m})=>[t("a",T({href:u},c.action,{onClick:m}),[t("span",{class:E([s.icon,"text-color"])},null,2),t("span",X,o(s.label),1)],16,W)]),_:2},1032,["to"])):(a(),l("a",T({key:1,href:s.url,target:s.target},c.action),[t("span",tt,o(s.label),1)],16,Z))]),_:1},8,["home","model"]),t("div",st,[t("div",et,[t("h3",ot," Cart ("+o(h.value.length)+") ",1),x(f,{to:"/cart"},{default:p(()=>e[4]||(e[4]=[t("a",{href:"#",class:"text-primary hover:text-orange-600 text-sm font-semibold flex items-center"},null,-1)])),_:1})]),t("div",at,[t("div",rt,[t("div",nt,[(a(!0),l(V,null,A(h.value,s=>{var c,u,m,y,v,k,C,w;return a(),l("div",{class:"rounded-lg p-4 gap-3 pb-4 mb-2 border",key:s.id},[t("div",lt,[t("img",{class:"w-20 h-20 object-contain",src:((u=(c=s.productModel)==null?void 0:c.images.find(n=>n.isPrimary))==null?void 0:u.optimizeUrl)??((y=(m=s.images)==null?void 0:m.find(n=>n.isPrimary))==null?void 0:y.optimizeUrl),alt:"Product Image"},null,8,ct),t("div",it,[t("h2",dt,o(((v=s.productModel)==null?void 0:v.name)??s.name),1),t("p",ut,o((C=(k=s.productModel)==null?void 0:k.features[0])==null?void 0:C.description),1)]),t("div",mt,[t("p",pt," Ksh "+o(d(((w=s.productModel)==null?void 0:w.price)??s.price)),1)])]),t("div",_t,[t("button",{onClick:n=>j(s),class:"text-red-500 flex items-center"},e[5]||(e[5]=[t("span",{class:"mr-2"},"🗑️",-1),G(" Remove ")]),8,ht),t("div",gt,[t("button",{onClick:n=>b(s.id,s.quantity-1),class:"bg-gray-300 px-3 py-1 rounded-lg",disabled:s.quantity<=1}," - ",8,xt),t("span",bt,o(s.quantity),1),t("button",{onClick:n=>b(s.id,s.quantity+1),class:"bg-primary text-white px-3 py-1 rounded-lg"}," + ",8,ft)])])])}),128))]),t("div",yt,[t("div",vt,[e[6]||(e[6]=t("h3",{class:"text-lg font-semibold"},"Cart Total",-1)),t("p",kt," Subtotal: Ksh "+o(d(_.value)),1),e[7]||(e[7]=t("hr",{class:"my-2"},null,-1)),t("p",Ct," Total: Ksh "+o(d(_.value)),1),t("button",{class:"w-full bg-primary text-white py-2 mt-4 rounded-lg hover:bg-secondary",onClick:I}," Checkout ("+o(d(_.value))+") ",1)])])])])])]))])}}};export{Mt as default};
